{
  return new Promise<>(new PromiseFunc<WebRTCPeerConnection>(){
    @Override public void exec(    @NotNull PromiseResolver<WebRTCPeerConnection> resolver){
      JsArray<JsIceServer> servers=JsArray.createArray().cast();
      for (      WebRTCIceServer s : webRTCIceServers) {
        if (s.getUsername() != null || s.getCredential() != null) {
          servers.push(JsIceServer.create(s.getUrl(),s.getUsername(),s.getCredential()));
        }
 else {
          servers.push(JsIceServer.create(s.getUrl()));
        }
      }
      resolver.result(new PeerConnection(JsPeerConnection.create(JsPeerConnectionConfig.create(servers))));
    }
  }
);
}
