{
  if (Core.messenger().getAuth().getState() != State.LOGGED_IN) {
    throw new IllegalArgumentException();
  }
  long id=Long.parseLong(uri.getLastPathSegment());
  DiskCache diskCache=Core.core().getImageLoader().getInternalDiskCache();
  String key=FileKeys.avatarKey(id);
  String file=diskCache.lockFile(key);
  if (file == null) {
    throw new IllegalArgumentException();
  }
  return ParcelFileDescriptor.open(new File(file),ParcelFileDescriptor.MODE_READ_ONLY);
}
