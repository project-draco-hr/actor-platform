{
  JsHttpRequest request=JsHttpRequest.create();
  request.open("PUT",url);
  request.setRequestHeader("Content-Type","application/octet-stream");
  request.setOnLoadHandler(new JsHttpRequestHandler(){
    @Override public void onStateChanged(    JsHttpRequest request){
      if (request.getReadyState() == 4) {
        if (request.getStatus() >= 200 && request.getStatus() < 300) {
          callback.onUploaded();
        }
 else {
          callback.onUploadFailure(request.getStatus(),0);
        }
      }
    }
  }
);
  Uint8Array push=TypedArrays.createUint8Array(contents.length);
  for (int i=0; i < contents.length; i++) {
    push.set(i,contents[i]);
  }
  request.send(push.buffer());
}
