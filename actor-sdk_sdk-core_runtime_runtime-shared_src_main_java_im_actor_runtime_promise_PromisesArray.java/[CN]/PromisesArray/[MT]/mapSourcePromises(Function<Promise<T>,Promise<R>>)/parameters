Function<Promise<T>,Promise<R>> fun
