{
  long id=item.getEngineId();
  long sortKey=item.getEngineSort();
  int removedIndex=-1;
  int addedIndex=-1;
  for (int i=0; i < sourceList.size(); i++) {
    T srcItem=sourceList.get(i);
    if (srcItem.getEngineId() == id) {
      if (isAddOnly) {
        return;
      }
      sourceList.remove(i);
      removedIndex=i;
      i--;
      continue;
    }
 else {
      if ((addedIndex < 0) && sortKey > srcItem.getEngineSort()) {
        addedIndex=i;
        sourceList.add(i,item);
        i++;
      }
    }
    if (addedIndex >= 0 && removedIndex >= 0) {
      break;
    }
  }
  if (addedIndex < 0) {
    addedIndex=sourceList.size();
    sourceList.add(sourceList.size(),item);
  }
  if (addedIndex == removedIndex) {
    result.appendUpdate(addedIndex,item);
  }
 else   if (removedIndex >= 0) {
    result.appendUpdate(removedIndex,item);
    result.appendMove(removedIndex,addedIndex);
  }
 else {
    result.appendAdd(addedIndex,item);
  }
}
