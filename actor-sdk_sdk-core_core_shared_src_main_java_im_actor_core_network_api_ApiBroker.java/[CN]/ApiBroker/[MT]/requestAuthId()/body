{
  Log.d(TAG,"Creating auth key...");
  AuthIdRetriever.requestAuthId(endpoints,minDelay,maxDelay,maxFailureCount,new AuthIdRetriever.AuthIdCallback(){
    @Override public void onSuccess(    long authId){
      Log.d(TAG,"Key created: " + authId);
      self().send(new InitMTProto(authId));
    }
    @Override public void onFailure(){
      Log.d(TAG,"Key creation failure");
      authIdBackOff.onFailure();
      long delay=authIdBackOff.exponentialWait();
      Log.d(TAG,"Key creation delay in " + delay + " ms");
      self().send(new RequestAuthId(),delay);
    }
  }
);
}
