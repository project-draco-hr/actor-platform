{
  this.local=local;
  this.stream=stream;
  this.isVideoCallsEnabled=isVideoCallsEnabled;
  if (!local) {
    audioTrack=stream.audioTracks.get(0);
    try {
      videoTrack=stream.videoTracks.get(0);
    }
 catch (    Exception e) {
    }
  }
 else {
    AndroidWebRTCRuntimeProvider.postToHandler(new Runnable(){
      @Override public void run(){
        MediaConstraints audioConstarints=new MediaConstraints();
        audioConstarints.mandatory.add(new MediaConstraints.KeyValuePair("googNoiseSuppression","true"));
        audioConstarints.mandatory.add(new MediaConstraints.KeyValuePair("googEchoCancellation","true"));
        AudioSource audioSource=AndroidWebRTCRuntimeProvider.FACTORY.createAudioSource(audioConstarints);
        if (isVideoCallsEnabled) {
          videoSource=AndroidWebRTCRuntimeProvider.FACTORY.createVideoSource(getVideoCapturer(),new MediaConstraints());
          videoTrack=AndroidWebRTCRuntimeProvider.FACTORY.createVideoTrack("ARDAMSv0",videoSource);
          stream.addTrack(videoTrack);
        }
        audioTrack=AndroidWebRTCRuntimeProvider.FACTORY.createAudioTrack("ARDAMSa0",audioSource);
        stream.addTrack(audioTrack);
      }
    }
);
  }
  setAudioEnabled(autoPlay);
}
