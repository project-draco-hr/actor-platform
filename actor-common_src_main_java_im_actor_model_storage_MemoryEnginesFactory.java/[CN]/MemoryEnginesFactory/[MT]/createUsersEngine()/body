{
  return new KeyValueEngine<User>(){
    private HashMap<Integer,User> users=new HashMap<Integer,User>();
    @Override public synchronized void addOrUpdateItem(    User item){
      users.put(item.getUid(),item);
    }
    @Override public synchronized void addOrUpdateItems(    List<User> values){
      for (      User u : values) {
        users.put(u.getUid(),u);
      }
    }
    @Override public synchronized void removeItem(    long id){
      users.remove((int)id);
    }
    @Override public synchronized void removeItems(    long[] ids){
      for (      long id : ids) {
        users.remove((int)id);
      }
    }
    @Override public synchronized void clear(){
      users.clear();
    }
    @Override public synchronized User getValue(    long id){
      return users.get((int)id);
    }
  }
;
}
