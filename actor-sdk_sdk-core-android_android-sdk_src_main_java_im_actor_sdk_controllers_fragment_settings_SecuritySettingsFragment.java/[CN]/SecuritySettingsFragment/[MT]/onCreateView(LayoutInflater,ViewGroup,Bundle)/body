{
  View res=inflater.inflate(R.layout.fr_settings_encryption,container,false);
  ((TextView)res.findViewById(R.id.security_settings_title)).setTextColor(ActorSDK.sharedActor().style.getSettingsMainTitle());
  loading=(TextView)res.findViewById(R.id.loading);
  loading.setVisibility(View.GONE);
  loading.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      performLoad();
    }
  }
);
  authItems=(LinearLayout)res.findViewById(R.id.authItems);
  res.findViewById(R.id.terminateSessions).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      new AlertDialog.Builder(getActivity()).setMessage(R.string.security_terminate_message).setPositiveButton(R.string.dialog_yes,new DialogInterface.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int which){
          execute(messenger().terminateAllSessions(),R.string.progress_common,new CommandCallback<Boolean>(){
            @Override public void onResult(            Boolean res){
              performLoad();
            }
            @Override public void onError(            Exception e){
              performLoad();
              Toast.makeText(getActivity(),"Unable to remove auth",Toast.LENGTH_SHORT).show();
            }
          }
);
        }
      }
).setNegativeButton(R.string.dialog_no,null).show().setCanceledOnTouchOutside(true);
    }
  }
);
  performLoad();
  return res;
}
