{
switch (item.getItemId()) {
case android.R.id.home:
    finish();
  break;
case R.id.clear:
new AlertDialog.Builder(this).setMessage(R.string.alert_delete_all_messages_text).setPositiveButton(R.string.alert_delete_all_messages_yes,new DialogInterface.OnClickListener(){
  @Override public void onClick(  DialogInterface dialog,  int which){
    execute(messenger().clearChat(peer));
  }
}
).setNegativeButton(R.string.dialog_cancel,null).show().setCanceledOnTouchOutside(true);
break;
case R.id.leaveGroup:
new AlertDialog.Builder(this).setMessage(getString(R.string.alert_leave_group_message).replace("{0}",groups().get(peer.getPeerId()).getName().get())).setPositiveButton(R.string.alert_leave_group_yes,new DialogInterface.OnClickListener(){
@Override public void onClick(DialogInterface dialog2,int which){
execute(messenger().leaveGroup(peer.getPeerId()));
finish();
}
}
).setNegativeButton(R.string.dialog_cancel,null).show().setCanceledOnTouchOutside(true);
break;
case R.id.contact:
startActivity(Intents.openProfile(peer.getPeerId(),ChatActivity.this));
break;
case R.id.groupInfo:
startActivity(Intents.openGroup(peer.getPeerId(),ChatActivity.this));
break;
case R.id.files:
break;
}
return super.onOptionsItemSelected(item);
}
