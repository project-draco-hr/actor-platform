{
  this.loadLimit=loadLimit;
  this.callback=new ListCallback();
  this.listEngine=listEngine;
  this.listEngine.addListener(callback);
  this.dataAdapter=listEngine.getDataAdapter();
  this.uiList=new UiList<V>();
  this.uiList.addListener(new UiListListener(){
    @Override public void onListUpdated(){
      if (uiList.getSize() == 0) {
        if (listWindow.isInited() && listWindow.isTailLoaded() && listWindow.isHeadLoaded()) {
          listState.change(new ListState(ListState.State.LOADED_EMPTY));
        }
 else {
          listState.change(new ListState(ListState.State.LOADING_EMPTY));
        }
      }
 else {
        listState.change(new ListState(ListState.State.LOADED));
      }
    }
  }
);
  this.listMods=new ListMods<V>(dataAdapter);
  this.listState=new ValueModel<ListState>("list_engine.state",new ListState(ListState.State.LOADING_EMPTY));
  if (autoLoad) {
    initGeneral();
  }
}
