{
  try {
    if (content.getType() == 0x01) {
      im.actor.model.api.TextMessage textMessage=Bser.parse(new im.actor.model.api.TextMessage(),content.getContent());
      return new TextContent(textMessage.getText());
    }
 else     if (content.getType() == 0x02) {
      ServiceMessage serviceMessage=Bser.parse(new ServiceMessage(),content.getContent());
      if (serviceMessage.getExtType() == 0x04) {
        return new ServiceGroupCreated("???");
      }
 else       if (serviceMessage.getExtType() == 0x05) {
        ServiceExChangedTitle title=Bser.parse(new ServiceExChangedTitle(),serviceMessage.getExt());
        return new ServiceGroupTitleChanged(title.getTitle());
      }
 else       if (serviceMessage.getExtType() == 0x06) {
        ServiceExChangedAvatar title=Bser.parse(new ServiceExChangedAvatar(),serviceMessage.getExt());
        return new ServiceGroupAvatarChanged(convert(title.getAvatar()));
      }
 else       if (serviceMessage.getExtType() == 0x01) {
        ServiceExUserAdded added=Bser.parse(new ServiceExUserAdded(),serviceMessage.getExt());
        return new ServiceGroupUserAdded(added.getAddedUid());
      }
 else       if (serviceMessage.getExtType() == 0x02) {
        ServiceExUserKicked added=Bser.parse(new ServiceExUserKicked(),serviceMessage.getExt());
        return new ServiceGroupUserKicked(added.getKickedUid());
      }
 else       if (serviceMessage.getExtType() == 0x03) {
        return new ServiceGroupUserLeave();
      }
 else {
        return new ServiceContent(serviceMessage.getText());
      }
    }
 else     if (content.getType() == 0x03) {
      im.actor.model.api.FileMessage fileMessage=Bser.parse(new im.actor.model.api.FileMessage(),content.getContent());
      String mimeType=fileMessage.getMimeType();
      String name=fileMessage.getName();
      im.actor.model.entity.content.FastThumb fastThumb=convert(fileMessage.getThumb());
      FileLocation fileLocation=new FileLocation(fileMessage.getFileId(),fileMessage.getAccessHash(),fileMessage.getFileSize(),fileMessage.getName());
      FileRemoteSource source=new FileRemoteSource(fileLocation);
      if (fileMessage.getExtType() == 0x01) {
        try {
          FileExPhoto photo=Bser.parse(new FileExPhoto(),fileMessage.getExt());
          return new PhotoContent(source,mimeType,name,fastThumb,photo.getW(),photo.getH());
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
      }
 else       if (fileMessage.getExtType() == 0x02) {
        try {
          FileExVideo video=Bser.parse(new FileExVideo(),fileMessage.getExt());
          return new VideoContent(source,mimeType,name,fastThumb,video.getDuration(),video.getW(),video.getH());
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
      }
      return new DocumentContent(source,mimeType,name,fastThumb);
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  return null;
}
