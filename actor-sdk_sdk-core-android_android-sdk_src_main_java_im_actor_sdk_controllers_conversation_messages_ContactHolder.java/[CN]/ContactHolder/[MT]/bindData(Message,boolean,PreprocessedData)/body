{
  ContactContent contact=(ContactContent)message.getContent();
  if (message.getSenderId() == myUid()) {
    messageBubble.setBackgroundResource(R.drawable.conv_bubble_media_out);
  }
 else {
    messageBubble.setBackgroundResource(R.drawable.conv_bubble_media_in);
  }
  Drawable avatar;
  if (contact.getPhoto64() != null) {
    byte[] decodedByte=Base64.decode(contact.getPhoto64(),Base64.URL_SAFE | Base64.NO_WRAP);
    Bitmap b=BitmapFactory.decodeByteArray(decodedByte,0,decodedByte.length);
    avatar=getRoundedBitmapDrawable(itemView.getContext(),b);
  }
 else {
    avatar=new AvatarPlaceholderDrawable(contact.getName(),message.getSenderId(),18,itemView.getContext());
  }
  contactAvatar.setBackgroundDrawable(avatar);
  text.setText(((PreprocessedTextData)preprocessedData).getSpannableString());
}
