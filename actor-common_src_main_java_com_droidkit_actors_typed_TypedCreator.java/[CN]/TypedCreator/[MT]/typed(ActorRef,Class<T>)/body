{
  return (T)Proxy.newProxyInstance(ref.system().getClassLoader(),new Class[]{tClass},new InvocationHandler(){
    @Override public Object invoke(    Object proxy,    Method method,    Object[] args) throws Throwable {
      ClientFuture future=null;
      if (method.getReturnType().equals(Future.class)) {
        future=new ClientFuture();
      }
      ref.send(new TypedRequest(future,method,args));
      return future;
    }
  }
);
}
