{
  V res=cache.lookup(key);
  if (res != null) {
    return res;
  }
 else {
    final Object lock=new Object();
    final List<V> resultList=new ArrayList<V>();
synchronized (lock) {
      dbActor.loadItem(key,new LoadItemCallback<V>(){
        @Override public void onLoaded(        V res){
          if (res != null) {
            resultList.add(res);
          }
synchronized (lock) {
            lock.notify();
          }
        }
      }
);
      try {
        lock.wait();
      }
 catch (      InterruptedException e) {
        return null;
      }
      if (resultList.size() > 0) {
        res=resultList.get(0);
synchronized (LOCK) {
          cache.onObjectLoaded(dataAdapter.getId(res),res);
        }
        return res;
      }
 else {
        return null;
      }
    }
  }
}
