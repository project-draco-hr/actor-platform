{
  if (update instanceof UpdateMessage) {
    UpdateMessage message=(UpdateMessage)update;
    onMessage(message.getPeer(),message.getSenderUid(),message.getDate(),message.getRid(),message.getMessage());
    return true;
  }
 else   if (update instanceof UpdateMessageRead) {
    UpdateMessageRead messageRead=(UpdateMessageRead)update;
    onMessageRead(messageRead.getPeer(),messageRead.getStartDate());
    return true;
  }
 else   if (update instanceof UpdateMessageReadByMe) {
    UpdateMessageReadByMe messageReadByMe=(UpdateMessageReadByMe)update;
    if (messageReadByMe.getUnreadCounter() != null) {
      onMessageReadByMe(messageReadByMe.getPeer(),messageReadByMe.getStartDate(),messageReadByMe.getUnreadCounter());
    }
 else {
      onMessageReadByMe(messageReadByMe.getPeer(),messageReadByMe.getStartDate(),0);
    }
    return true;
  }
 else   if (update instanceof UpdateMessageReceived) {
    UpdateMessageReceived received=(UpdateMessageReceived)update;
    onMessageReceived(received.getPeer(),received.getStartDate());
    return true;
  }
 else   if (update instanceof UpdateMessageDelete) {
    UpdateMessageDelete messageDelete=(UpdateMessageDelete)update;
    onMessageDelete(messageDelete.getPeer(),messageDelete.getRids());
    return true;
  }
 else   if (update instanceof UpdateMessageSent) {
    UpdateMessageSent messageSent=(UpdateMessageSent)update;
    onMessageSent(messageSent.getPeer(),messageSent.getRid(),messageSent.getDate());
    return true;
  }
 else   if (update instanceof UpdateMessageContentChanged) {
    UpdateMessageContentChanged contentChanged=(UpdateMessageContentChanged)update;
    onMessageContentChanged(contentChanged.getPeer(),contentChanged.getRid(),contentChanged.getMessage());
    return true;
  }
 else   if (update instanceof UpdateChatClear) {
    UpdateChatClear chatClear=(UpdateChatClear)update;
    onChatClear(chatClear.getPeer());
    return true;
  }
 else   if (update instanceof UpdateChatDelete) {
    UpdateChatDelete chatDelete=(UpdateChatDelete)update;
    onChatDelete(chatDelete.getPeer());
    return true;
  }
 else   if (update instanceof UpdateChatGroupsChanged) {
    UpdateChatGroupsChanged chatGroupsChanged=(UpdateChatGroupsChanged)update;
    onChatGroupsChanged(chatGroupsChanged.getDialogs());
    return true;
  }
 else   if (update instanceof UpdateReactionsUpdate) {
    onReactionsChanged(((UpdateReactionsUpdate)update).getPeer(),((UpdateReactionsUpdate)update).getRid(),((UpdateReactionsUpdate)update).getReactions());
    return true;
  }
  return false;
}
