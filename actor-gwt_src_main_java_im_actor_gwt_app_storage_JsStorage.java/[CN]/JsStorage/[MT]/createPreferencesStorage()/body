{
  if (isLocalStorageSupported()) {
    return new LocalStoragePreferences(storage);
  }
 else {
    return new MemoryPreferences();
  }
}
