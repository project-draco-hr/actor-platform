{
  super.update(message,pos,isUpdated,context);
  if (message.getContent() instanceof UserRegisteredMessage) {
    messageText.setText(MessageTextFormatter.joinedActorFull(chatId));
  }
 else   if (message.getContent() instanceof UserAddedDeviceMessage) {
    messageText.setText(MessageTextFormatter.newDeviceFull(chatId));
  }
 else   if (message.getContent() instanceof GroupCreated) {
    messageText.setText(MessageTextFormatter.groupCreatedFull(message.getRaw().getSenderId(),((GroupCreated)message.getContent()).getTitle()));
  }
 else   if (message.getContent() instanceof GroupLeave) {
    messageText.setText(MessageTextFormatter.groupLeave(message.getRaw().getSenderId()));
  }
 else   if (message.getContent() instanceof GroupAdd) {
    messageText.setText(MessageTextFormatter.groupAdd(message.getRaw().getSenderId(),((GroupAdd)message.getContent()).getAddedUid()));
  }
 else   if (message.getContent() instanceof GroupKick) {
    messageText.setText(MessageTextFormatter.groupKicked(message.getRaw().getSenderId(),((GroupKick)message.getContent()).getKickedUid()));
  }
 else   if (message.getContent() instanceof GroupTitle) {
    messageText.setText(MessageTextFormatter.groupChangeTitleFull(message.getRaw().getSenderId(),((GroupTitle)message.getContent()).getNewTitle()));
  }
 else   if (message.getContent() instanceof GroupAvatar) {
    GroupAvatar avatar=(GroupAvatar)message.getContent();
    if (avatar.getNewAvatar() != null) {
      messageText.setText(MessageTextFormatter.groupChangeAvatar(message.getRaw().getSenderId()));
    }
 else {
      messageText.setText(MessageTextFormatter.groupRemoveAvatar(message.getRaw().getSenderId()));
    }
  }
 else {
    messageText.setText("???");
  }
}
