{
  if (message instanceof Invalidate || message instanceof SeqUpdateTooLong || message instanceof ForceInvalidate) {
    invalidate();
  }
 else   if (message instanceof SeqUpdate) {
    onUpdateReceived(message);
  }
 else   if (message instanceof FatSeqUpdate) {
    onUpdateReceived(message);
  }
 else   if (message instanceof WeakUpdate) {
    onUpdateReceived(message);
  }
 else   if (message instanceof InternalUpdate) {
    onUpdateReceived(message);
  }
 else   if (message instanceof ExecuteAfter) {
    onUpdateReceived(message);
  }
 else   if (message instanceof PushSeq) {
    onUpdateReceived(message);
  }
 else {
    drop(message);
  }
}
