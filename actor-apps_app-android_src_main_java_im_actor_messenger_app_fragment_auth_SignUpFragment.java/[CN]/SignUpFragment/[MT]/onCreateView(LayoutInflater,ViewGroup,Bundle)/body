{
  View v=inflater.inflate(R.layout.fragment_sign_up,container,false);
  if (savedInstanceState != null) {
    avatarPath=savedInstanceState.getString("avatarPath",null);
  }
  keyboardHelper=new KeyboardHelper(getActivity());
  avatarView=(AvatarView)v.findViewById(R.id.avatar);
  avatarView.init(Screen.dp(96),24);
  avatarView.getHierarchy().setPlaceholderImage(R.drawable.circle_placeholder);
  ((TextView)v.findViewById(R.id.button_confirm_sms_code_text)).setTypeface(Fonts.medium());
  firstNameEditText=(EditText)v.findViewById(R.id.et_first_name_enter);
  final View sendConfirmCodeButton=v.findViewById(R.id.button_confirm_sms_code);
  firstNameEditText.addTextChangedListener(new TextWatcher(){
    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){
    }
    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){
    }
    @Override public void afterTextChanged(    Editable s){
      messenger().trackAuthSignupNameType(s.toString());
    }
  }
);
  v.findViewById(R.id.pickAvatar).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      messenger().trackAuthSignupPressedAvatar();
      startActivityForResult(Intents.pickAvatar(avatarPath != null,getActivity()),REQUEST_AVATAR);
    }
  }
);
  sendConfirmCodeButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      executeAuth(messenger().signUp(firstNameEditText.getText().toString().trim(),ApiSex.UNKNOWN,avatarPath),"SignUp");
    }
  }
);
  if (avatarPath != null) {
    avatarView.bindRaw(avatarPath);
  }
  return v;
}
