{
  Log.d(TAG,"scan");
  int i=0;
  while (offset + i++ < offset + SCAN_COUNT && cursor.moveToNext()) {
    absolutePathOfImage=cursor.getString(column_index_data);
    listOfAllImages.add(absolutePathOfImage);
  }
  boolean added=false;
  if (offset % 100 == 0) {
    Log.d(TAG,"scan - update vm, offset - " + offset);
    galleryVM.getGalleryMediaPath().change(new ArrayList<String>(listOfAllImages));
    added=true;
  }
  offset+=i;
  if (offset < cursor.getCount()) {
    Log.d(TAG,"scan - " + i + " iterations, offset - "+ offset+ ", schedule next in "+ SCAN_DELAY);
    schedule(new Scan(),SCAN_DELAY);
  }
 else {
    if (!added) {
      galleryVM.getGalleryMediaPath().change(new ArrayList<String>(listOfAllImages));
    }
    Log.d(TAG,"scanned to end, offset - " + offset + ", schedule check new in "+ CHECK_NEW_DELAY);
    scanned=true;
    schedule(new CheckNew(),CHECK_NEW_DELAY);
  }
}
