{
  chatId=getArguments().getInt(EXTRA_GROUP_ID);
  groupInfo=groups().get(chatId);
  token="token";
  link="http://".concat(getActivity().getString(R.string.messenger_domain)).concat("/");
  final ClipboardManager clipboard=(ClipboardManager)getActivity().getSystemService(Context.CLIPBOARD_SERVICE);
  View res=inflater.inflate(R.layout.fragment_invite_link,container,false);
  listView=(ListView)res.findViewById(R.id.inviteLinkActionsList);
  listView.setAdapter(new InviteLincActionsAdapter(getActivity()));
  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
switch (position) {
case 0:
        clipboard.setPrimaryClip(ClipData.newPlainText(null,link.concat(token)));
      Toast.makeText(getActivity(),getString(R.string.invite_link_copied),Toast.LENGTH_SHORT).show();
    break;
case 1:
  break;
case 2:
clipboard.setPrimaryClip(ClipData.newPlainText(null,link.concat(token)));
Toast.makeText(getActivity(),getString(R.string.invite_link_copied),Toast.LENGTH_SHORT).show();
break;
case 3:
break;
case 4:
Intent i=new Intent(Intent.ACTION_SEND);
i.setType("text/plain");
i.putExtra(Intent.EXTRA_TEXT,link.concat(token));
Intent chooser=Intent.createChooser(i,getString(R.string.invite_link_chooser_title));
if (i.resolveActivity(getActivity().getPackageManager()) != null) {
startActivity(chooser);
}
break;
}
}
}
);
View footer=inflater.inflate(R.layout.fragment_invite_link_item_footer,listView,false);
listView.addFooterView(footer,null,false);
return res;
}
