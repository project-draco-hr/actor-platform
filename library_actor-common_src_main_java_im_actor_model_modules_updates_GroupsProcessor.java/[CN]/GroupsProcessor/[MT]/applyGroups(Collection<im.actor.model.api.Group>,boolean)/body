{
  ArrayList<Group> batch=new ArrayList<Group>();
  for (  im.actor.model.api.Group group : updated) {
    Group saved=groups().getValue(group.getId());
    if (saved == null) {
      batch.add(EntityConverter.convert(group));
      modules().getGroupsModule().requestInviteLink(group.getId()).start(new CommandCallback<String>(){
        @Override public void onResult(        String res){
        }
        @Override public void onError(        Exception e){
        }
      }
);
    }
 else     if (forced) {
      Group upd=EntityConverter.convert(group);
      batch.add(upd);
      if (!equalsE(upd.getAvatar(),saved.getAvatar()) || !upd.getTitle().equals(saved.getTitle())) {
        onGroupDescChanged(upd);
      }
    }
  }
  if (batch.size() > 0) {
    groups().addOrUpdateItems(batch);
  }
}
