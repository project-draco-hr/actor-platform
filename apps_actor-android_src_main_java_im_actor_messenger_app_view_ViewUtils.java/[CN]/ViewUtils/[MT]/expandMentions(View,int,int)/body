{
  if (newRowsCount == oldRowsCount) {
    return;
  }
  v.measure(AbsListView.LayoutParams.MATCH_PARENT,AbsListView.LayoutParams.WRAP_CONTENT);
  int newRowsHeight=Screen.dp(29) * newRowsCount + Screen.dp(1) * ((newRowsCount == 0 ? 1 : newRowsCount) - 1);
  final int targetHeight=(newRowsHeight) > Screen.dp(87 + 2) ? Screen.dp(100) : newRowsHeight;
  final int initialHeight=new Integer(v.getLayoutParams().height);
  v.getLayoutParams().height=initialHeight;
  v.setVisibility(View.VISIBLE);
  Animation a=new ExpandMentionsAnimation(v,targetHeight,initialHeight);
  a.setDuration((newRowsCount > oldRowsCount ? targetHeight : initialHeight / Screen.dp(1)) * 2);
  a.setInterpolator(MaterialInterpolator.getInstance());
  v.startAnimation(a);
}
