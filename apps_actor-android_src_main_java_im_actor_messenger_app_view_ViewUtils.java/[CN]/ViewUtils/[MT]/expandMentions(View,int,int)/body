{
  if (newRowsCount == oldRowsCount) {
    return;
  }
  v.measure(AbsListView.LayoutParams.MATCH_PARENT,AbsListView.LayoutParams.WRAP_CONTENT);
  int rowsHeight=Screen.dp(29) * newRowsCount + Screen.dp(1) * ((newRowsCount == 0 ? 1 : newRowsCount) - 1);
  final int targetHeight=(rowsHeight) > Screen.dp(87 + 2) ? Screen.dp(100) : rowsHeight;
  final int initialHeight=Screen.dp(29) * oldRowsCount;
  v.getLayoutParams().height=initialHeight;
  v.setVisibility(View.VISIBLE);
  Animation a=new Animation(){
    @Override protected void applyTransformation(    float interpolatedTime,    Transformation t){
      if (newRowsCount > oldRowsCount) {
        v.getLayoutParams().height=(int)((targetHeight * interpolatedTime) - initialHeight * interpolatedTime + initialHeight);
        v.requestLayout();
      }
 else {
        v.getLayoutParams().height=(int)(initialHeight - (initialHeight * interpolatedTime) - targetHeight * (1f - interpolatedTime) + targetHeight);
        v.requestLayout();
      }
    }
    @Override public boolean willChangeBounds(){
      return true;
    }
  }
;
  a.setDuration((int)(newRowsCount > oldRowsCount ? targetHeight : initialHeight / Screen.dp(1)) * 2);
  a.setInterpolator(MaterialInterpolator.getInstance());
  a.setFillAfter(true);
  v.startAnimation(a);
}
