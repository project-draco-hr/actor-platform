{
  View res=inflater.inflate(R.layout.fragment_dialogs,container,false);
  loadingProgress=res.findViewById(R.id.loadingProgress);
  noMessages=res.findViewById(R.id.noMessages);
  dialogsEmptyImage=(ImageView)res.findViewById(R.id.emptyDialogsImage);
  adapter=new DialogsAdapter(messenger().getDialogsGlobalList(),getActivity());
  adapter.setItemClicked(new OnItemClickedListener<Dialog>(){
    @Override public void onClicked(    Dialog item){
      onItemClick(item);
    }
  }
);
  if (supportLongClick()) {
    adapter.setItemLongClicked(new OnItemClickedListener<Dialog>(){
      @Override public void onClicked(      Dialog item){
        onItemLongClick(item);
      }
    }
);
  }
  RecyclerView messagesView=(RecyclerView)res.findViewById(R.id.collection);
  LinearLayoutManager linearLayoutManager=new LinearLayoutManager(getActivity());
  linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);
  messagesView.setLayoutManager(linearLayoutManager);
  messagesView.setAdapter(adapter);
  loadingProgress.setVisibility(View.GONE);
  noMessages.setVisibility(View.GONE);
  return res;
}
