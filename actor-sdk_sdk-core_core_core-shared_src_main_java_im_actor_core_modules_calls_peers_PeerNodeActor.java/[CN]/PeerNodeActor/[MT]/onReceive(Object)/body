{
  if (message instanceof RTCStart) {
    onEnableTheir();
  }
 else   if (message instanceof RTCOwnStart) {
    onEnableOwn();
  }
 else   if (message instanceof RTCAdvertised) {
    RTCAdvertised advertised=(RTCAdvertised)message;
    onAdvertised(advertised.getSettings());
  }
 else   if (message instanceof SetOwnStream) {
    SetOwnStream ownStream=(SetOwnStream)message;
    setOwnSetStream(ownStream.getMediaStream());
  }
 else   if (message instanceof RTCOffer) {
    if (peerConnection == null) {
      stash();
      return;
    }
    RTCOffer offer=(RTCOffer)message;
    peerConnection.onOffer(offer.getSdp());
  }
 else   if (message instanceof RTCAnswer) {
    if (peerConnection == null) {
      stash();
      return;
    }
    RTCAnswer answer=(RTCAnswer)message;
    peerConnection.onAnswer(answer.getSdp());
  }
 else   if (message instanceof RTCNeedOffer) {
    if (peerConnection == null) {
      stash();
      return;
    }
    peerConnection.onOfferNeeded();
  }
 else   if (message instanceof RTCCandidate) {
    if (peerConnection == null) {
      stash();
      return;
    }
    RTCCandidate candidate=(RTCCandidate)message;
    peerConnection.onCandidate(candidate.getMdpIndex(),candidate.getId(),candidate.getSdp());
  }
 else {
    super.onReceive(message);
  }
}
