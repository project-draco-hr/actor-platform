{
  if (message instanceof OnOfferReceived) {
    if (peerConnection == null) {
      stash(STASH_CONNECTION);
      return;
    }
    OnOfferReceived offer=(OnOfferReceived)message;
    peerConnection.send(new PeerConnectionActor.OnOffer(offer.getSdp()));
  }
 else   if (message instanceof DoOffer) {
    DoOffer offer=(DoOffer)message;
    callActor.send(new PeerCallActor.SendOffer(uid,deviceId,offer.getSdp()));
  }
 else   if (message instanceof OnAnswerReceived) {
    if (peerConnection == null) {
      stash(STASH_CONNECTION);
      return;
    }
    OnAnswerReceived answer=(OnAnswerReceived)message;
    peerConnection.send(new PeerConnectionActor.OnAnswer(answer.getSdp()));
  }
 else   if (message instanceof DoAnswer) {
    DoAnswer answer=(DoAnswer)message;
    callActor.send(new PeerCallActor.SendAnswer(uid,deviceId,answer.getSdp()));
  }
 else   if (message instanceof OnCandidateReceived) {
    if (peerConnection == null) {
      stash(STASH_CONNECTION);
      return;
    }
    OnCandidateReceived candidate=(OnCandidateReceived)message;
    peerConnection.send(new PeerConnectionActor.OnCandidate(candidate.getIndex(),candidate.getId(),candidate.getSdp()));
  }
 else   if (message instanceof DoCandidate) {
    DoCandidate candidate=(DoCandidate)message;
    callActor.send(new PeerCallActor.SendCandidate(uid,deviceId,candidate.getIndex(),candidate.getId(),candidate.getSdp()));
  }
 else   if (message instanceof OnOfferNeeded) {
    if (peerConnection == null) {
      stash(STASH_CONNECTION);
      return;
    }
    onOfferNeeded();
  }
 else   if (message instanceof OnAdvertised) {
    OnAdvertised nodeSettings=(OnAdvertised)message;
    onAdvertised(nodeSettings.getSettings());
  }
 else   if (message instanceof OnAnswered) {
    onAnswered();
  }
 else   if (message instanceof OnStreamAdded) {
    onStreamAdded();
  }
 else   if (message instanceof OnStreamRemoved) {
  }
 else   if (message instanceof SetOwnStream) {
    setOwnSetStream(((SetOwnStream)message).getMediaStream());
  }
 else {
    super.onReceive(message);
  }
}
