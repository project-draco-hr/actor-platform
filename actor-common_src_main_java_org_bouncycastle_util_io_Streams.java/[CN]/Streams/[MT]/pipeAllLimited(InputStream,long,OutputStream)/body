{
  long total=0;
  byte[] bs=new byte[BUFFER_SIZE];
  int numRead;
  while ((numRead=inStr.read(bs,0,bs.length)) >= 0) {
    total+=numRead;
    if (total > limit) {
      throw new StreamOverflowException("Data Overflow");
    }
    outStr.write(bs,0,numRead);
  }
  return total;
}
