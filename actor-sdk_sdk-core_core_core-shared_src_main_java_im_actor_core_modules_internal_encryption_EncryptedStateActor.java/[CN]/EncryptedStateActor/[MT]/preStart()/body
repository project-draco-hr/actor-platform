{
  super.preStart();
  if (keyGroups == null) {
    Log.d(TAG,"Loading own keys for conversation");
    User user=getUser(uid);
    request(new RequestLoadPublicKeyGroups(new ApiUserOutPeer(user.getUid(),user.getAccessHash())),new RpcCallback<ResponsePublicKeyGroups>(){
      @Override public void onResult(      ResponsePublicKeyGroups response){
        keyGroups=new ArrayList<ApiEncryptionKeyGroup>(response.getPublicKeyGroups());
        onGroupsReady();
      }
      @Override public void onError(      RpcException e){
        Log.d(TAG,"Error during loading public key groups");
        Log.e(TAG,e);
      }
    }
);
  }
 else {
    onGroupsReady();
  }
}
