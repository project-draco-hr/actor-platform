{
  BserValues reader=new BserValues(BserParser.deserialize(new DataInput(data,0,data.length)));
  ObsoleteContentType type=typeFromValue(reader.getInt(1));
switch (type) {
case TEXT:
    return new ContentServerContainer(new ObsoleteTextContent(data).toApiMessage());
case DOCUMENT:
case DOCUMENT_PHOTO:
case DOCUMENT_VIDEO:
case SERVICE:
  return new ContentServerContainer(new ObsoleteService(data).toApiMessage());
case SERVICE_REGISTERED:
return new ContentServerContainer(new ServiceMessage("User registered",new ServiceExContactRegistered(0)));
case SERVICE_CREATED:
return new ContentServerContainer(new ServiceMessage("Group created",new ServiceExGroupCreated()));
case SERVICE_TITLE:
return new ContentServerContainer(new ObsoleteServiceTitle(data).toApiMessage());
case SERVICE_AVATAR:
return new ContentServerContainer(new ObsoleteServiceAvatar(data).toApiMessage());
case SERVICE_ADDED:
return new ContentServerContainer(new ObsoleteServiceAdded(data).toApiMessage());
case SERVICE_KICKED:
return new ContentServerContainer(new ObsoleteServiceKicked(data).toApiMessage());
case SERVICE_LEAVE:
return new ContentServerContainer(new ServiceMessage("User leave",new ServiceExUserLeft()));
default :
throw new IOException("Unknown type");
}
}
