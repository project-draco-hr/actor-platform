{
  if (peer.getPeerType() == PeerType.PRIVATE) {
    if (uids.contains(peer.getPeerId())) {
      return;
    }
    User user=getUser(peer.getPeerId());
    if (user == null) {
      return;
    }
    uids.add(user.getUid());
    List<UserOutPeer> peers=new ArrayList<UserOutPeer>();
    peers.add(new UserOutPeer(user.getUid(),user.getAccessHash()));
    request(new RequestSubscribeToOnline(peers));
  }
 else   if (peer.getPeerType() == PeerType.GROUP) {
    if (gids.contains(peer.getPeerId())) {
      return;
    }
    Group group=getGroup(peer.getPeerId());
    if (group == null) {
      return;
    }
    gids.add(peer.getPeerId());
    List<GroupOutPeer> peers=new ArrayList<GroupOutPeer>();
    peers.add(new GroupOutPeer(group.getGroupId(),group.getAccessHash()));
    request(new RequestSubscribeToGroupOnline(peers));
  }
}
