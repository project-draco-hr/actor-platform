{
  if (message instanceof Message) {
    onInMessage((Message)message);
  }
 else   if (message instanceof MessageContentUpdated) {
    MessageContentUpdated contentUpdated=(MessageContentUpdated)message;
    onMessageContentUpdated(contentUpdated.getRid(),contentUpdated.getContent());
  }
 else   if (message instanceof MessageSent) {
    MessageSent sent=(MessageSent)message;
    onMessageSent(sent.getRid(),sent.getDate());
  }
 else   if (message instanceof MessageError) {
    MessageError messageError=(MessageError)message;
    onMessageError(messageError.getRid());
  }
 else   if (message instanceof MessageRead) {
    onMessagePlainRead(((MessageRead)message).getDate());
  }
 else   if (message instanceof MessageReceived) {
    onMessagePlainReceived(((MessageReceived)message).getDate());
  }
 else   if (message instanceof HistoryLoaded) {
    onHistoryLoaded(((HistoryLoaded)message).getMessages());
  }
 else   if (message instanceof ClearConversation) {
    onClearConversation();
  }
 else   if (message instanceof DeleteConversation) {
    onDeleteConversation();
  }
 else   if (message instanceof MessagesDeleted) {
    onMessagesDeleted(((MessagesDeleted)message).getRids());
  }
 else   if (message instanceof MessageDateChange) {
    onMessageDateChange(((MessageDateChange)message).getRid(),((MessageDateChange)message).getDate());
  }
 else {
    drop(message);
  }
}
