{
  if (message instanceof HandlerSeqUpdate) {
    HandlerSeqUpdate seqUpdate=(HandlerSeqUpdate)message;
    if (isUpdating) {
      stash();
      return null;
    }
    return onSeqUpdate(seqUpdate.getUpdate(),seqUpdate.getUsers(),seqUpdate.getGroups());
  }
 else   if (message instanceof HandlerDifferenceUpdates) {
    HandlerDifferenceUpdates differenceUpdate=(HandlerDifferenceUpdates)message;
    if (isUpdating) {
      stash();
      return null;
    }
    return onDifferenceUpdate(differenceUpdate.getUsers(),differenceUpdate.getGroups(),differenceUpdate.getUserOutPeers(),differenceUpdate.getGroupOutPeers(),differenceUpdate.getUpdates());
  }
 else   if (message instanceof HandlerRelatedResponse) {
    HandlerRelatedResponse relatedResponse=(HandlerRelatedResponse)message;
    if (isUpdating) {
      stash();
      return null;
    }
    return onRelatedResponse(relatedResponse.getRelatedUsers(),relatedResponse.getRelatedGroups());
  }
 else {
    return super.onAsk(message);
  }
}
