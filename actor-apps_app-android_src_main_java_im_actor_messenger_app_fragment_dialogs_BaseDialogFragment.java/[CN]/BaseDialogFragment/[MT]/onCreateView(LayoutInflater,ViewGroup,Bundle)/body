{
  if (getArguments() != null) {
    joinGroupUrl=getArguments().getString("invite_url",null);
  }
  View res=inflate(inflater,container,R.layout.fragment_dialogs,messenger().getDialogsDisplayList());
  FrameLayout footer=new FrameLayout(getActivity());
  footer.setLayoutParams(new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(160)));
  ImageView shadow=new ImageView(getActivity());
  shadow.setImageResource(R.drawable.card_shadow_bottom);
  shadow.setScaleType(ImageView.ScaleType.FIT_XY);
  shadow.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(4)));
  footer.addView(shadow);
  TextView hint=new TextView(getActivity());
  hint.setText(R.string.dialogs_hint);
  hint.setTypeface(Fonts.regular());
  hint.setPadding(Screen.dp(16),Screen.dp(8),Screen.dp(16),0);
  hint.setGravity(Gravity.CENTER);
  hint.setTextSize(15);
  hint.setTextColor(getResources().getColor(R.color.text_subheader));
  hint.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT));
  footer.addView(hint);
  addFooterView(footer);
  View header=new View(getActivity());
  header.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(0)));
  header.setBackgroundColor(getActivity().getResources().getColor(R.color.bg_main));
  addHeaderView(header);
  emptyDialogs=res.findViewById(R.id.emptyDialogs);
  bind(messenger().getAppState().getIsDialogsEmpty(),new ValueChangedListener<Boolean>(){
    @Override public void onChanged(    Boolean val,    ValueModel<Boolean> valueModel){
      if (val) {
        emptyDialogs.setVisibility(View.VISIBLE);
      }
 else {
        emptyDialogs.setVisibility(View.GONE);
      }
    }
  }
);
  return res;
}
