{
  int category=clasificator.getType(w,h);
  if (category < 0) {
    return null;
  }
  CategoryHolder holder=categories.get(category);
  if (!holder.config.isFreeEnabled()) {
    return null;
  }
  Iterator<Map.Entry<String,Bitmap>> bitmapIterator=holder.bitmapFreeCache.snapshot().entrySet().iterator();
  while (bitmapIterator.hasNext()) {
    Map.Entry<String,Bitmap> b=bitmapIterator.next();
    if (b.getValue().getWidth() == w && b.getValue().getHeight() == h) {
      bitmapIterator.remove();
      return b.getValue();
    }
  }
  return null;
}
