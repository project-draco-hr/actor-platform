{
  super(context);
  this.context=context;
  this.keyboard=keyboard;
  if (stickersCache == null) {
    stickersCache=new HashMap<Long,StickerView>();
  }
  this.scrollTo=scrollTo;
  stickerIndicatorContainer=keyboard.getStickerIndicatorContainer();
  stickerIndicatorContainer.setTag(TAG_KEY,0);
  stickerInLine=(Screen.getWidth() / STICKER_SIZE);
  leftPadding=(Screen.getWidth() - (stickerInLine * STICKER_SIZE)) / 2;
  packFirstLineMap=new HashMap<Integer,Integer>();
  stickerSwitchLp=new LinearLayout.LayoutParams(Screen.dp(48),Screen.dp(48));
  padding=Screen.dp(8);
  packs=messenger().getOwnStickerPacks();
  ((BaseActivity)context).bind(packs,new ValueChangedListener<ArrayList<StickerPackVM>>(){
    @Override public void onChanged(    ArrayList<StickerPackVM> val,    Value<ArrayList<StickerPackVM>> valueModel){
      buildStickerLines(scrollTo);
      notifyDataSetChanged();
    }
  }
);
}
