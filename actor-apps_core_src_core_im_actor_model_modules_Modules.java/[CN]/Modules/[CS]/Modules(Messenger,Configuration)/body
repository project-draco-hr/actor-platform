{
  this.messenger=messenger;
  this.configuration=configuration;
  Timing timing=new Timing("MODULES_INIT");
  timing.section("I18N");
  this.i18nEngine=new I18nEngine(configuration.getLocaleProvider(),this);
  timing.section("Preferences");
  this.preferences=configuration.getStorageProvider().createPreferencesStorage();
  timing.section("Analytics");
  this.analytics=new Analytics(this);
  timing.section("API");
  this.actorApi=new ActorApi(new Endpoints(configuration.getEndpoints()),new PreferenceApiStorage(preferences),new ActorApiCallbackImpl(),configuration.getNetworkProvider(),configuration.isEnableNetworkLogging(),configuration.getMinDelay(),configuration.getMaxDelay(),configuration.getMaxFailureCount());
  timing.section("Auth");
  this.auth=new Auth(this);
  timing.section("Pushes");
  this.pushes=new Pushes(this);
  timing.section("App State");
  this.appStateModule=new AppStateModule(this);
  timing.section("External");
  this.external=new External(this);
  timing.end();
}
