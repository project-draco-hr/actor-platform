{
  peer=Peer.fromBytes(values.getBytes(1));
  dialogTitle=values.getString(2);
  byte[] av=values.optBytes(3);
  if (av != null) {
    dialogAvatar=new Avatar(av);
  }
  unreadCount=values.getInt(4);
  sortDate=values.getLong(5);
  rid=values.getLong(6);
  senderId=values.getInt(7);
  date=values.getLong(8);
  messageType=ContentType.fromValue(values.getInt(9));
  text=values.getString(10);
  if (text.length() > MAX_LENGTH) {
    text=text.substring(0,MAX_LENGTH) + "...";
  }
  status=MessageState.fromValue(values.getInt(11));
  relatedUid=values.getInt(12);
}
