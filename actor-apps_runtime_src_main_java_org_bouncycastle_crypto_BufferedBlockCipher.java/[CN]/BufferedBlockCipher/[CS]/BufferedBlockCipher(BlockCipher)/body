{
  this.cipher=cipher;
  buf=new byte[cipher.getBlockSize()];
  bufOff=0;
  String name=cipher.getAlgorithmName();
  int idx=name.indexOf('/') + 1;
  pgpCFB=(idx > 0 && name.startsWith("PGP",idx));
  if (pgpCFB || cipher instanceof StreamCipher) {
    partialBlockOkay=true;
  }
 else {
    partialBlockOkay=(idx > 0 && (name.startsWith("OpenPGP",idx)));
  }
}
