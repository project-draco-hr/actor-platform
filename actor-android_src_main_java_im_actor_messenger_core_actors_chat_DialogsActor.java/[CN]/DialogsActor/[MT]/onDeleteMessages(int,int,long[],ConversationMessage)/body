{
  DialogItem item=listEngine.getValue(DialogUids.getDialogUid(type,id));
  if (item != null) {
    boolean contains=false;
    for (    long r : rids) {
      if (r == item.getRid()) {
        contains=true;
        break;
      }
    }
    if (contains) {
      if (first == null) {
        onChatClear(type,id);
      }
 else {
        MessageDesc desc=createDesc(first);
        DialogItem dialogItem=new DialogItemBuilder(item).setRid(first.getRid()).setTime(first.getTime()).setStatus(first.getMessageState()).setMessageType(desc.type).setSenderId(first.getSenderId()).setText(desc.text).setRelatedUid(desc.getRelatedUid()).createDialogItem();
        listEngine.addOrUpdateItem(dialogItem);
      }
    }
  }
}
