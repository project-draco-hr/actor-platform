{
  Log.d(TAG,"doEndCall (" + callId + ")");
  ActorRef currentCallActor=runningCalls.remove(callId);
  if (currentCallActor != null) {
    currentCallActor.send(new CallActor.DoEndCall());
  }
  if (currentCall != null && currentCall == callId) {
    currentCall=null;
    provider.onCallEnd(callId);
    if (isBeeping) {
      isBeeping=false;
      provider.stopOutgoingBeep();
    }
  }
}
