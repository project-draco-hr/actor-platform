{
  if (date < inReadState) {
    return;
  }
  inReadState=date;
  preferences().putLong(IN_READ_STATE_PREF,date);
  inPendingIndex.removeBeforeValue(date);
  if (!isHiddenPeer) {
    dialogsActor.send(new DialogsActor.CounterChanged(peer,inPendingIndex.getCount()));
  }
  dialogsGroupedActor.send(new GroupedDialogsActor.CounterChanged(peer,inPendingIndex.getCount()));
}
