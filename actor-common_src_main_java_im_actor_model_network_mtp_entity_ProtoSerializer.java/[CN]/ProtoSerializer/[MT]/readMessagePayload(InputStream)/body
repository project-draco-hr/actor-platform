{
  final byte header=readByte(bs);
switch (header) {
case Ping.HEADER:
    return new Ping(bs);
case Pong.HEADER:
  return new Pong(bs);
case Drop.HEADER:
return new Drop(bs);
case Container.HEADER:
return new Container(bs);
case MTRpcRequest.HEADER:
return new MTRpcRequest(bs);
case MTRpcResponse.HEADER:
return new MTRpcResponse(bs);
case MessageAck.HEADER:
return new MessageAck(bs);
case NewSessionCreated.HEADER:
return new NewSessionCreated(bs);
case MTPush.HEADER:
return new MTPush(bs);
case UnsentMessage.HEADER:
return new UnsentMessage(bs);
case UnsentResponse.HEADER:
return new UnsentResponse(bs);
case RequestResend.HEADER:
return new UnsentResponse(bs);
}
throw new IOException("Unable to read proto object with header #" + header);
}
