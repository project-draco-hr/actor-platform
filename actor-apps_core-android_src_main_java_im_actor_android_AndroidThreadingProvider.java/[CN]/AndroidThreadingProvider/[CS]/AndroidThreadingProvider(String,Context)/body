{
  this.serverHost=serverHost;
  this.preference=context.getSharedPreferences(PROPS,Context.MODE_PRIVATE);
  this.syncDelta=preference.getLong("delta",syncDelta);
  invalidateSync();
  IntentFilter timeChangedFilter=new IntentFilter();
  timeChangedFilter.addAction(Intent.ACTION_TIME_CHANGED);
  timeChangedFilter.addAction(Intent.ACTION_DATE_CHANGED);
  context.registerReceiver(new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      Log.d("AndroidClockSync","Time changed: invalidating sync");
      invalidateSync();
    }
  }
,timeChangedFilter);
}
