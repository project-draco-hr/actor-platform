{
  String line;
  String endMarker=END + type;
  StringBuffer buf=new StringBuffer();
  List headers=new ArrayList();
  while ((line=readLine()) != null) {
    if (line.indexOf(":") >= 0) {
      int index=line.indexOf(':');
      String hdr=line.substring(0,index);
      String value=line.substring(index + 1).trim();
      headers.add(new PemHeader(hdr,value));
      continue;
    }
    if (line.indexOf(endMarker) != -1) {
      break;
    }
    buf.append(line.trim());
  }
  if (line == null) {
    throw new IOException(endMarker + " not found");
  }
  return new PemObject(type,headers,Base64.decode(buf.toString()));
}
