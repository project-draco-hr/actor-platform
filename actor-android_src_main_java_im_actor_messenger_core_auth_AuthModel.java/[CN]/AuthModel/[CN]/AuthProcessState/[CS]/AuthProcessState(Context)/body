{
  super(context);
  tryLoad();
  if (System.currentTimeMillis() < saveTime || System.currentTimeMillis() - saveTime > TIMEOUT) {
    if (stateId == STATE_SIGNED) {
      return;
    }
    stateId=STATE_START;
    smsHash=null;
    phoneNumber=0;
    smsCode=0;
  }
 else {
    if (stateId == STATE_REQUESTING_SMS || stateId == STATE_REQUESTING_SMS_ERROR) {
      stateId=STATE_START;
    }
 else     if (stateId == STATE_CODE_SENDING || stateId == STATE_CODE_SEND_ERROR) {
      stateId=STATE_REQUESTED_SMS;
    }
 else     if (stateId == STATE_SIGNING_ERROR || stateId == STATE_SIGNING) {
      stateId=STATE_SIGN_UP;
    }
  }
}
