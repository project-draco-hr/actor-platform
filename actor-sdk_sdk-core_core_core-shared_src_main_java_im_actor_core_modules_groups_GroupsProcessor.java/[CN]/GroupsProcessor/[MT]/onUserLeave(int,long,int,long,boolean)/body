{
  Group group=groups().getValue(groupId);
  if (group != null) {
    if (uid == myUid()) {
      groups().addOrUpdateItem(group.clearMembers());
    }
 else {
      groups().addOrUpdateItem(group.removeMember(uid));
    }
    if (!isSilent) {
      Message message=new Message(rid,date,date,uid,uid == myUid() ? MessageState.SENT : MessageState.UNKNOWN,ServiceGroupUserLeave.create());
      getRouter().onNewMessage(group.peer(),message);
    }
  }
}
