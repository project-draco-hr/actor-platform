{
  if (currentConnection != null && currentConnection.isClosed()) {
    currentConnection=null;
    currentConnectionId=0;
  }
  if (currentConnection != null) {
    DataOutput bos=new DataOutput();
    bos.writeLong(authId);
    bos.writeLong(sessionId);
    bos.writeBytes(data,offset,len);
    byte[] pkg=bos.toByteArray();
    currentConnection.post(pkg,0,pkg.length);
  }
 else {
  }
}
