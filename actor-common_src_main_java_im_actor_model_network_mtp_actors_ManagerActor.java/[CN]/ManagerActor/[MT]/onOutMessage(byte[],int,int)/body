{
  if (currentConnection != null && currentConnection.isClosed()) {
    currentConnection=null;
    currentConnectionId=0;
  }
  if (currentConnection != null) {
    ByteArrayOutputStream bos=new ByteArrayOutputStream();
    try {
      writeLong(authId,bos);
      writeLong(sessionId,bos);
      writeBytes(data,offset,len,bos);
    }
 catch (    IOException e) {
    }
    byte[] pkg=bos.toByteArray();
    currentConnection.post(pkg,0,pkg.length);
  }
 else {
  }
}
