{
  Peer peer=EntityConverter.convert(_peer);
  AbsContent msgContent;
  if (content.getType() == 0x01) {
    try {
      im.actor.model.api.TextMessage textMessage=Bser.parse(im.actor.model.api.TextMessage.class,content.getContent());
      msgContent=new TextContent(textMessage.getText());
    }
 catch (    IOException e) {
      e.printStackTrace();
      return;
    }
  }
 else {
    return;
  }
  Message message=new Message(rid,buildSortKey(),date,senderUid,messenger.myUid() == senderUid ? MessageState.SENT : MessageState.UNKNOWN,msgContent);
  messenger.getMessagesModule().getConversationActor(peer).send(message);
}
