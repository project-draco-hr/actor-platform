{
  Node node=nodes.get(deviceId);
  if (node == null || node.isAnswered()) {
    return;
  }
  node.setIsAnswered(true);
  Log.d(TAG,"onAnswered:" + deviceId);
  if (node.getPeerSettings().isPreConnectionEnabled() && getSelfSettings().isPreConnectionEnabled()) {
    getPeer(uid,deviceId).onAnswered();
  }
 else {
    getPeer(uid,deviceId).onAdvertised(node.getPeerSettings());
    getPeer(uid,deviceId).onOfferNeeded();
    getPeer(uid,deviceId).onAnswered();
  }
  for (  Node n : nodes.values()) {
    if (n.getDeviceId() == deviceId) {
      continue;
    }
    if (n.isAnswered() || n.getPeerSettings().isPreConnectionEnabled()) {
      ConnectionState connectionState=n.getConnectedDevices().get(deviceId);
      if (connectionState == null) {
        sendNeedOffer(n.getUid(),n.getDeviceId(),uid,deviceId,n.getApiPeerSettings(),false);
      }
 else       if (connectionState == ConnectionState.SILENT) {
        sendOnAnswered(n.getUid(),n.getDeviceId(),uid,deviceId);
        n.getConnectedDevices().put(deviceId,ConnectionState.CONNECTED);
      }
 else {
      }
    }
  }
  if (!isAnswered) {
    isAnswered=true;
    if (isStarted) {
      callVM.getState().change(CallState.IN_PROGRESS);
    }
 else {
      callVM.getState().change(CallState.CONNECTING);
    }
    callManager.send(new CallManagerActor.OnCallAnswered(callId));
  }
}
