{
  ConversationState state=conversationStates.getValue(peer.getUnuqueId());
  boolean isChanged=false;
  if (date > state.getOutReadDate()) {
    state=state.changeOutReadDate(date);
    dialogsActor(new DialogsActor.PeerReadChanged(peer,date));
    isChanged=true;
  }
  if (date > state.getOutReceiveDate()) {
    state=state.changeOutReceiveDate(date);
    isChanged=true;
  }
  if (isChanged) {
    conversationStates.addOrUpdateItem(state);
  }
  return Promise.success(null);
}
