{
  if (mode == MODE_FULL || mode == MODE_ONLY_LINKS) {
    Url url=findUrl(cursor,limit);
    if (url != null) {
      handleText(cursor,url.getStart(),elements);
      String title;
      String urlVal;
      if (url instanceof BasicUrl) {
        BasicUrl basicUrl=(BasicUrl)url;
        title=cursor.text.substring(basicUrl.getStart(),basicUrl.getEnd());
        urlVal=title;
        cursor.currentOffset=url.getEnd();
      }
 else {
        TitledUrl titledUrl=(TitledUrl)url;
        title=cursor.text.substring(titledUrl.getStart() + 1,titledUrl.getMiddle());
        urlVal=cursor.text.substring(titledUrl.getMiddle() + 2,titledUrl.getEnd());
        cursor.currentOffset=url.getEnd() + 1;
      }
      elements.add(new MDUrl(title,urlVal));
      return true;
    }
  }
  handleText(cursor,limit,elements);
  return false;
}
