{
  byte[] content;
  if (appSpe.getApplicationTag() == EACTags.CERTIFICATE_CONTENT_TEMPLATE) {
    content=appSpe.getContents();
  }
 else {
    throw new IOException("Bad tag : not an iso7816 CERTIFICATE_CONTENT_TEMPLATE");
  }
  ASN1InputStream aIS=new ASN1InputStream(content);
  ASN1Primitive obj;
  while ((obj=aIS.readObject()) != null) {
    DERApplicationSpecific aSpe;
    if (obj instanceof DERApplicationSpecific) {
      aSpe=(DERApplicationSpecific)obj;
    }
 else {
      throw new IOException("Not a valid iso7816 content : not a DERApplicationSpecific Object :" + EACTags.encodeTag(appSpe) + obj.getClass());
    }
switch (aSpe.getApplicationTag()) {
case EACTags.INTERCHANGE_PROFILE:
      setCertificateProfileIdentifier(aSpe);
    break;
case EACTags.ISSUER_IDENTIFICATION_NUMBER:
  setCertificationAuthorityReference(aSpe);
break;
case EACTags.CARDHOLDER_PUBLIC_KEY_TEMPLATE:
setPublicKey(PublicKeyDataObject.getInstance(aSpe.getObject(BERTags.SEQUENCE)));
break;
case EACTags.CARDHOLDER_NAME:
setCertificateHolderReference(aSpe);
break;
case EACTags.CERTIFICATE_HOLDER_AUTHORIZATION_TEMPLATE:
setCertificateHolderAuthorization(new CertificateHolderAuthorization(aSpe));
break;
case EACTags.APPLICATION_EFFECTIVE_DATE:
setCertificateEffectiveDate(aSpe);
break;
case EACTags.APPLICATION_EXPIRATION_DATE:
setCertificateExpirationDate(aSpe);
break;
default :
certificateType=0;
throw new IOException("Not a valid iso7816 DERApplicationSpecific tag " + aSpe.getApplicationTag());
}
}
}
