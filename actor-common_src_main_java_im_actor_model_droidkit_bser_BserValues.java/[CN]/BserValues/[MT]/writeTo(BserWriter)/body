{
  for (int i=0; i < fields.size(); i++) {
    int key=fields.keyAt(i);
    Object field=fields.get(key);
    if (field instanceof Integer) {
      try {
        writer.writeInt(key,(Integer)field);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
 else     if (field instanceof Long) {
      try {
        writer.writeLong(key,(Long)field);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
 else     if (field instanceof byte[]) {
      try {
        writer.writeBytes(key,(byte[])field);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
 else     if (field instanceof List) {
      for (      Object obj : (List)field) {
        if (obj instanceof Integer) {
          try {
            writer.writeInt(key,(Integer)obj);
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
 else         if (obj instanceof Long) {
          try {
            writer.writeLong(key,(Long)obj);
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
 else         if (obj instanceof byte[]) {
          try {
            writer.writeBytes(key,(byte[])obj);
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
      }
    }
  }
}
