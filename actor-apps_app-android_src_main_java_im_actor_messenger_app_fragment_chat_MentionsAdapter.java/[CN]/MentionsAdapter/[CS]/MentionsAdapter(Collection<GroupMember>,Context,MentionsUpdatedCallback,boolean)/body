{
  super(context);
  highlightColor=context.getResources().getColor(R.color.primary);
  GroupMember currentUser=null;
  for (  GroupMember m : members) {
    if (m.getUid() == myUid())     currentUser=m;
  }
  if (currentUser != null) {
    members.remove(currentUser);
  }
  this.allMembers=members.toArray(new GroupMember[0]);
  this.membersToShow=initEmpty ? new GroupMember[]{} : allMembers;
  searchMap=new HashMap<String,GroupMember>();
  this.updatedCallback=updatedCallback;
  String userName;
  for (  GroupMember m : members) {
    userName=users().get(m.getUid()).getName().get();
    String[] userNameSplit=userName.split("\\s+");
    String initials="";
    for (int i=0; i < userNameSplit.length; i++) {
      initials+=userNameSplit[i].charAt(0);
    }
    searchMap.put(initials.toLowerCase(),m);
    searchMap.put(userName.toLowerCase(),m);
    searchMap.put(TextUtils.transliterate(initials.toLowerCase()),m);
    searchMap.put(TextUtils.transliterate(userName.toLowerCase()),m);
  }
}
