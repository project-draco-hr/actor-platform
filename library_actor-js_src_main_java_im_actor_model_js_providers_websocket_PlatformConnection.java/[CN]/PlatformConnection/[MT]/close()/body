{
  if (isClosed) {
    return;
  }
  isClosed=true;
  rawConnection.doClose();
  if (!isOpened || !isHandshakePerformed) {
    factoryCallback.onConnectionCreateError(this);
  }
 else {
    callback.onConnectionDie();
  }
}
