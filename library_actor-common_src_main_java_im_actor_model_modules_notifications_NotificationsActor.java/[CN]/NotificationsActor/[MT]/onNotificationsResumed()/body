{
  isNotificationsPaused=false;
  if (notificationsDuringPause.size() > 0) {
    if (config().getNotificationProvider() != null) {
      if (visiblePeer != null && notificationsDuringPause.contains(visiblePeer)) {
        if (modules().getSettings().isConversationTonesEnabled()) {
          config().getNotificationProvider().onMessageArriveInApp(modules().getMessenger());
        }
      }
 else       if (isDialogsVisible) {
        if (modules().getSettings().isConversationTonesEnabled()) {
          config().getNotificationProvider().onMessageArriveInApp(modules().getMessenger());
        }
      }
 else       if (isAppVisible) {
        if (modules().getSettings().isInAppEnabled()) {
          performNotification(false);
        }
      }
 else {
        performNotification(false);
      }
    }
  }
  notificationsDuringPause.clear();
}
