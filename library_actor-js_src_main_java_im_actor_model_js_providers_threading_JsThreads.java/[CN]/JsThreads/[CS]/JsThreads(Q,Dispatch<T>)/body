{
  super(queue,dispatch);
  secureInterval=JsSecureInterval.create(new Runnable(){
    @Override public void run(){
      EnvelopeRoot envelopeRoot=((MailboxesQueue)getQueue()).getEnvelopeRoot();
      Log.d("JsThreads","Do Perform schedule: " + envelopeRoot.getAllCount());
      isDoingIteration=true;
      long delay=-1;
      int iteration=0;
      while (delay < 0 && iteration < ITERATION_COUNT_MAX) {
        delay=doIteration();
        iteration++;
      }
      isDoingIteration=false;
      if (delay < 0) {
        Log.d("JsThreads","Schedule again: " + envelopeRoot.getAllCount());
        secureInterval.scheduleNow();
      }
 else {
        if (delay > 15000) {
          delay=15000;
        }
        if (delay < 1) {
          delay=1;
        }
        Log.d("JsThreads","Schedule: " + envelopeRoot.getAllCount());
        secureInterval.schedule((int)delay);
      }
    }
  }
);
}
