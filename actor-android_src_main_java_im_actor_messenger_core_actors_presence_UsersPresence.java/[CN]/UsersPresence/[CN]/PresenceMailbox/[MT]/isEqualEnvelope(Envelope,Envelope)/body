{
  if (a.getMessage() instanceof UserGoesOnline && b.getMessage() instanceof UserGoesOnline) {
    UserGoesOnline aOn=(UserGoesOnline)a.getMessage();
    UserGoesOnline bOn=(UserGoesOnline)b.getMessage();
    return aOn.uid == bOn.uid;
  }
  if (a.getMessage() instanceof UserGoesOffline && b.getMessage() instanceof UserGoesOffline) {
    UserGoesOffline aOn=(UserGoesOffline)a.getMessage();
    UserGoesOffline bOn=(UserGoesOffline)b.getMessage();
    return aOn.uid == bOn.uid;
  }
  if (a.getMessage() instanceof UserLastSeen && b.getMessage() instanceof UserLastSeen) {
    UserLastSeen aOn=(UserLastSeen)a.getMessage();
    UserLastSeen bOn=(UserLastSeen)b.getMessage();
    return aOn.uid == bOn.uid;
  }
  return super.isEqualEnvelope(a,b);
}
