{
  final int uid=getArguments().getInt(EXTRA_UID);
  final UserModel user=users().get(uid);
  baseColor=getResources().getColor(R.color.primary);
  View res=inflater.inflate(R.layout.fragment_profile,container,false);
  getBinder().bindText((TextView)res.findViewById(R.id.name),user.getNameModel());
  final TextView lastSeen=(TextView)res.findViewById(R.id.lastSeen);
  getBinder().bind(user.getPresence(),new Listener<UserPresence>(){
    @Override public void onUpdated(    UserPresence presence){
      String s=Formatter.formatPresence(presence,user.getSex());
      if (s != null) {
        lastSeen.setVisibility(View.VISIBLE);
        lastSeen.setText(s);
      }
 else {
        lastSeen.setVisibility(View.GONE);
      }
    }
  }
);
  res.findViewById(R.id.filesCont).setVisibility(View.GONE);
  res.findViewById(R.id.sharedDiv).setVisibility(View.GONE);
  res.findViewById(R.id.sharedTitle).setVisibility(View.GONE);
  res.findViewById(R.id.profileAction).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      startActivity(Intents.openPrivateDialog(uid,true,getActivity()));
    }
  }
);
  avatarView=(CoverAvatarView)res.findViewById(R.id.avatar);
  avatarView.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
    }
  }
);
  View notificationContainter=res.findViewById(R.id.notificationsCont);
  SwitchCompat notificationEnable=(SwitchCompat)res.findViewById(R.id.enableNotifications);
  final ScrollView scrollView=((ScrollView)res.findViewById(R.id.scrollContainer));
  scrollView.getViewTreeObserver().addOnScrollChangedListener(new ViewTreeObserver.OnScrollChangedListener(){
    @Override public void onScrollChanged(){
      updateBar(scrollView.getScrollY());
    }
  }
);
  updateBar(scrollView.getScrollY());
  return res;
}
