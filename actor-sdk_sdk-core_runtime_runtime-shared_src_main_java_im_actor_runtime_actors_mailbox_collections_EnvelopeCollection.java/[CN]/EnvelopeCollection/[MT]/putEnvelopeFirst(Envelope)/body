{
  long key;
  if (topKey == 0) {
    key=root.buildKey(0);
  }
 else {
    key=topKey - 1;
  }
synchronized (envelopes) {
    envelopes.put(key,new ScheduledEnvelope(key,0,envelope));
    topKey=key;
  }
  root.changedTopKey(this);
  Log.d("Envelopes#" + id,"First (" + topKey + "): "+ allEnvelopesDebug());
  return key;
}
