{
  if (isFinished) {
    if (exception != null) {
      dispatcher.dispatch(new Runnable(){
        @Override public void run(){
          failure.apply(exception);
        }
      }
);
    }
  }
 else {
    callbacks.add(new PromiseCallback<T>(){
      @Override public void onResult(      T t){
      }
      @Override public void onError(      Exception e){
        failure.apply(e);
      }
    }
);
  }
  return this;
}
