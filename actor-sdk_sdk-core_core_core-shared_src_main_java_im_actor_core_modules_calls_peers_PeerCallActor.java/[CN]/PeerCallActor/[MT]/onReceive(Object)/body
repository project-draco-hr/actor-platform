{
  if (message instanceof RTCOwnStart) {
    onOwnStart();
  }
 else   if (message instanceof RTCStart) {
    RTCStart start=(RTCStart)message;
    getPeer(start.getDeviceId()).startTheir();
  }
 else   if (message instanceof RTCDispose) {
    RTCDispose dispose=(RTCDispose)message;
    disposePeer(dispose.getDeviceId());
  }
 else   if (message instanceof RTCOffer) {
    RTCOffer offer=(RTCOffer)message;
    getPeer(offer.getDeviceId()).onOffer(offer.getSdp());
  }
 else   if (message instanceof RTCAnswer) {
    RTCAnswer answer=(RTCAnswer)message;
    getPeer(answer.getDeviceId()).onAnswer(answer.getSdp());
  }
 else   if (message instanceof RTCCandidate) {
    RTCCandidate candidate=(RTCCandidate)message;
    getPeer(candidate.getDeviceId()).onCandidate(candidate.getMdpIndex(),candidate.getId(),candidate.getSdp());
  }
 else   if (message instanceof RTCNeedOffer) {
    RTCNeedOffer needOffer=(RTCNeedOffer)message;
    getPeer(needOffer.getDeviceId()).onOfferNeeded();
  }
 else   if (message instanceof RTCAdvertised) {
    RTCAdvertised advertised=(RTCAdvertised)message;
    getPeer(advertised.getDeviceId()).onAdvertised(advertised.getSettings());
  }
 else   if (message instanceof MuteChanged) {
    MuteChanged muteChanged=(MuteChanged)message;
    onMuteChanged(muteChanged.isMuted());
  }
 else {
    super.onReceive(message);
  }
}
