{
  ArrayList<AndroidListModification<T>> listModifications=new ArrayList<AndroidListModification<T>>();
  Log.d("AndroidListChange","Start");
  for (  DisplayList.ModificationResult<T> res : modificationResults) {
    for (    DisplayList.ModificationResult.Operation<T> operation : res.getOperations()) {
      Log.d("AndroidListChange",operation.getType() + " @" + operation.getIndex());
switch (operation.getType()) {
case ADD:
        listModifications.add(new AndroidListModification<T>(AndroidListModification.Operation.ADD,operation.getIndex(),operation.getItem()));
      break;
case UPDATE:
    listModifications.add(new AndroidListModification<T>(AndroidListModification.Operation.UPDATE,operation.getIndex(),operation.getItem()));
  break;
case REMOVE:
listModifications.add(new AndroidListModification<T>(AndroidListModification.Operation.REMOVE,operation.getIndex()));
break;
case MOVE:
listModifications.add(new AndroidListModification<T>(AndroidListModification.Operation.MOVE,operation.getIndex(),operation.getDestIndex(),1));
break;
}
}
}
Log.d("AndroidListChange","End");
return new AndroidListChange<T>(initialList,listModifications);
}
