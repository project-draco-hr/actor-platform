{
  Logger.d(TAG,"checkDownload " + currentDownloads + "/"+ nextBlock);
  if (currentDownloads == 0 && nextBlock >= blocksCount) {
    completeDownload();
  }
 else   if (currentDownloads < BLOCKS_COUNT && nextBlock < blocksCount) {
    currentDownloads++;
    final int blockIndex=nextBlock++;
    final int offset=blockIndex * blockSize;
    Logger.d(TAG,"Starting part #" + blockIndex + " download");
    performDownload(blockIndex,offset,new im.actor.api.scheme.FileLocation(fileLocation.getFileId(),fileLocation.getAccessHash()));
    checkDownload();
  }
}
