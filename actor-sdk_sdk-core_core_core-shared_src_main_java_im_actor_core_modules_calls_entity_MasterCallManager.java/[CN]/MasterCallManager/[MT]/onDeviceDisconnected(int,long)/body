{
  CallNode node=getNode(uid,deviceId);
  ArrayList<CallGridEdge> removedEdges=callGrid.removeNode(node);
  if (node.isAnswered()) {
    boolean isConnected=false;
    for (    CallNode m : callGrid.getNodes(uid)) {
      if (m.isAnswered()) {
        isConnected=true;
        break;
      }
    }
    if (!isConnected) {
      if (node.getMember().getState() != MasterCallMemberState.ENDED) {
        node.getMember().setState(MasterCallMemberState.ENDED);
        isInvalidated=true;
      }
    }
  }
  return ManagedList.of(removedEdges).map(new Function<CallGridEdge,CallNode>(){
    @Override public CallNode apply(    CallGridEdge callGridEdge){
      CallNode endNode=callGridEdge.getEnd();
      if (endNode.getMember().getUid() != uid && endNode.getDeviceId() != deviceId) {
        return callGridEdge.getEnd();
      }
 else {
        return callGridEdge.getStart();
      }
    }
  }
);
}
