{
  if (fromDate < getLastReadDate(peer)) {
    return;
  }
  boolean isChanged=false;
  List<PendingNotification> notifications=pendingStorage.getNotifications();
  for (  PendingNotification p : notifications.toArray(new PendingNotification[notifications.size()])) {
    if (p.getPeer().equals(peer) && p.getDate() <= fromDate) {
      pendingStorage.getNotifications().remove(p);
      isChanged=true;
    }
  }
  if (isChanged) {
    saveStorage();
    updateNotification();
  }
  setLastReadDate(peer,fromDate);
}
