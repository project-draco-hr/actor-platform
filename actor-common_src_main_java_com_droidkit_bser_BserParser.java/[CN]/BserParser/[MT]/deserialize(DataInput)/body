{
  SparseArray<Object> hashMap=new SparseArray<Object>();
  int currentTag;
  while ((currentTag=is.readByte()) > 0) {
    int id=currentTag >> 3;
    int type=currentTag & 0x7;
    if (type == TYPE_VARINT) {
      put(id,is.readVarInt(),hashMap);
    }
 else     if (type == TYPE_LENGTH_DELIMITED) {
      int size=(int)is.readVarInt();
      put(id,is.readBytes(size),hashMap);
    }
 else     if (type == TYPE_64BIT) {
      put(id,is.readLong(),hashMap);
    }
 else     if (type == TYPE_32BIT) {
      put(id,is.readUInt(),hashMap);
    }
 else {
      throw new IOException("Unknown Wire Type #" + type);
    }
  }
  return hashMap;
}
