{
  if (currentId == id) {
    return;
  }
  currentId=new Integer(id);
  setController(null);
  getHierarchy().setPlaceholderImage(new AvatarPlaceholderDrawable(title,id,placeholderTextSize,getContext(),forceNewTextSize));
  if (bindedFile != null) {
    bindedFile.detach();
    bindedFile=null;
  }
  if (avatar == null || avatar.getSmallImage() == null) {
    setImageURI(null);
    return;
  }
  bindedFile=messenger().bindFile(avatar.getSmallImage().getFileReference(),true,new FileVMCallback(){
    @Override public void onNotDownloaded(){
    }
    @Override public void onDownloading(    float progress){
    }
    @Override public void onDownloaded(    FileSystemReference reference){
      ImageRequest request=ImageRequestBuilder.newBuilderWithSource(Uri.fromFile(new File(reference.getDescriptor()))).setResizeOptions(new ResizeOptions(size,size)).build();
      PipelineDraweeController controller=(PipelineDraweeController)Fresco.newDraweeControllerBuilder().setOldController(getController()).setImageRequest(request).build();
      setController(controller);
    }
  }
);
}
