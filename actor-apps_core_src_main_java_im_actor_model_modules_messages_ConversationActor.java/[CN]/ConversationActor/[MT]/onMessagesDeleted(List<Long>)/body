{
  long[] rids2=new long[rids.size()];
  for (int i=0; i < rids2.length; i++) {
    rids2[i]=rids.get(i);
  }
  messages.removeItems(rids2);
  if (inMessagesStorage.remove(rids)) {
    saveInPending();
  }
  if (outMessagesStorage.remove(rids)) {
    saveOutPending();
  }
  dialogsActor.send(new DialogsActor.MessageDeleted(peer,messages.getHeadValue()));
}
