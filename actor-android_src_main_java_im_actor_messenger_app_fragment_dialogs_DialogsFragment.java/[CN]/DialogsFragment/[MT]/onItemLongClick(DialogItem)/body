{
  if (dialog.getType() == DialogType.TYPE_USER) {
    new AlertDialog.Builder(getActivity()).setItems(new CharSequence[]{getString(R.string.dialogs_menu_contact_view),getString(R.string.dialogs_menu_contact_rename),getString(R.string.dialogs_menu_conversation_delete)},new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog2,      int which){
        if (which == 0) {
          startActivity(Intents.openProfile(dialog.getId(),getActivity()));
        }
 else         if (which == 1) {
          startActivity(Intents.editUserName(dialog.getId(),getActivity()));
        }
 else         if (which == 2) {
          new AlertDialog.Builder(getActivity()).setMessage(getString(R.string.alert_delete_chat_message).replace("{0}",dialog.getDialogTitle())).setPositiveButton(R.string.alert_delete_chat_yes,new DialogInterface.OnClickListener(){
            @Override public void onClick(            DialogInterface dialog2,            int which){
              ChatActionsActor.actions().deleteChat(dialog.getType(),dialog.getId());
            }
          }
).setNegativeButton(R.string.dialog_cancel,null).show().setCanceledOnTouchOutside(true);
        }
      }
    }
).show().setCanceledOnTouchOutside(true);
  }
 else   if (dialog.getType() == DialogType.TYPE_GROUP) {
    new AlertDialog.Builder(getActivity()).setItems(new CharSequence[]{getString(R.string.dialogs_menu_group_view),getString(R.string.dialogs_menu_group_rename),getString(R.string.dialogs_menu_group_delete)},new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog2,      int which){
        if (which == 0) {
          startActivity(Intents.openGroup(dialog.getId(),getActivity()));
        }
 else         if (which == 1) {
          startActivity(Intents.editGroupTitle(dialog.getId(),getActivity()));
        }
 else         if (which == 2) {
          new AlertDialog.Builder(getActivity()).setMessage(getString(R.string.alert_delete_group_title).replace("{0}",dialog.getDialogTitle())).setPositiveButton(R.string.alert_delete_group_yes,new DialogInterface.OnClickListener(){
            @Override public void onClick(            DialogInterface dialog2,            int which){
              GroupsActor.groupUpdates().leaveChat(dialog.getId());
            }
          }
).setNegativeButton(R.string.dialog_cancel,null).show().setCanceledOnTouchOutside(true);
        }
      }
    }
).show().setCanceledOnTouchOutside(true);
  }
}
