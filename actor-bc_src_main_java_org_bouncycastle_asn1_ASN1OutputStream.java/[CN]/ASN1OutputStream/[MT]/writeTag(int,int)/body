{
  if (tagNo < 31) {
    write(flags | tagNo);
  }
 else {
    write(flags | 0x1f);
    if (tagNo < 128) {
      write(tagNo);
    }
 else {
      byte[] stack=new byte[5];
      int pos=stack.length;
      stack[--pos]=(byte)(tagNo & 0x7F);
      do {
        tagNo>>=7;
        stack[--pos]=(byte)(tagNo & 0x7F | 0x80);
      }
 while (tagNo > 127);
      write(stack,pos,stack.length - pos);
    }
  }
}
