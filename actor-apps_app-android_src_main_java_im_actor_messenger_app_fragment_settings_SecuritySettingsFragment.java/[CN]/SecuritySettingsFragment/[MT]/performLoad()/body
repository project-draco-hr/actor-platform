{
  loading.setText("Loading...");
  loading.setClickable(true);
  showView(loading,false);
  executeSilent(messenger().loadSessions(),new CommandCallback<List<AuthSession>>(){
    @Override public void onResult(    List<AuthSession> res){
      goneView(loading,false);
      authItems.removeAllViews();
      ArrayList<AuthSession> items=new ArrayList<AuthSession>(res);
      Collections.sort(items,new Comparator<AuthSession>(){
        @Override public int compare(        AuthSession lhs,        AuthSession rhs){
          return rhs.getAuthTime() - lhs.getAuthTime();
        }
      }
);
      for (      final AuthSession item : items) {
        if (getActivity() == null)         return;
        View view=getActivity().getLayoutInflater().inflate(R.layout.adapter_auth,authItems,false);
        boolean isThisDevice=item.getAuthHolder() == AuthHolder.OTHERDEVICE;
        String deviceTitle=(isThisDevice ? "(This) " : "") + item.getDeviceTitle();
        ((TextView)view.findViewById(R.id.date)).setText(messenger().getFormatter().formatShortDate(item.getAuthTime() * 1000L));
        ((TextView)view.findViewById(R.id.appTitle)).setText(item.getAppTitle());
        ((TextView)view.findViewById(R.id.deviceTitle)).setText(deviceTitle);
        if (!isThisDevice) {
          view.setOnClickListener(new View.OnClickListener(){
            @Override public void onClick(            View v){
              new AlertDialog.Builder(getActivity()).setMessage("Are you sure want to logout " + item.getDeviceTitle() + " device? All data will be lost on this device.").setPositiveButton("Yes",new DialogInterface.OnClickListener(){
                @Override public void onClick(                DialogInterface dialog,                int which){
                  execute(messenger().terminateSession(item.getId()),R.string.progress_common,new CommandCallback<Boolean>(){
                    @Override public void onResult(                    Boolean res){
                      performLoad();
                    }
                    @Override public void onError(                    Exception e){
                      Toast.makeText(getActivity(),"Unable to remove auth",Toast.LENGTH_SHORT).show();
                      performLoad();
                    }
                  }
);
                }
              }
).setNegativeButton("No",null).show().setCanceledOnTouchOutside(true);
            }
          }
);
        }
        authItems.addView(view);
      }
    }
    @Override public void onError(    Exception e){
      loading.setText("Unable to load. Press to try again.");
      loading.setClickable(true);
      showView(loading,false);
    }
  }
);
}
