{
  Intent intent=getIntent();
  handleIntent(intent);
  setContentView(R.layout.actor_activity_main);
  ActorStyle style=ActorSDK.sharedActor().style;
  getActivity().setSupportActionBar(((Toolbar)findViewById(R.id.toolbar)));
  syncInProgressView=findViewById(R.id.syncInProgress);
  ((TextView)syncInProgressView.findViewById(R.id.wait_text)).setTextColor(style.getTextSecondaryColor());
  ((TextView)syncInProgressView.findViewById(R.id.sync_text)).setTextColor(style.getMainColor());
  syncInProgressView.findViewById(R.id.sync_background).setBackgroundColor(style.getMainColor());
  emptyContactsView=findViewById(R.id.emptyContacts);
  ((TextView)emptyContactsView.findViewById(R.id.no_contacts)).setTextColor(style.getTextSecondaryColor());
  ((TextView)emptyContactsView.findViewById(R.id.no_contacts)).setText(getResources().getString(R.string.main_empty_invite_hint).replace("{appName}",ActorSDK.sharedActor().getAppName()));
  ((TextView)emptyContactsView.findViewById(R.id.add_contact_manually_text)).setTextColor(style.getTextSecondaryColor());
  ((TextView)emptyContactsView.findViewById(R.id.empty_contacts_text)).setTextColor(style.getMainColor());
  emptyContactsView.findViewById(R.id.empty_contacts_bg).setBackgroundColor(style.getMainColor());
  TextView addContactBtnText=(TextView)findViewById(R.id.addContactButtonText);
  addContactBtnText.setTextColor(style.getTextSecondaryColor());
  addContactBtnText.setTypeface(Fonts.medium());
  TextView inviteBtnText=(TextView)findViewById(R.id.inviteButtonText);
  inviteBtnText.setTypeface(Fonts.medium());
  inviteBtnText.setTextColor(style.getTextPrimaryInvColor());
  isFabVisible=false;
  fabContent=findViewById(R.id.fabContainer);
  ((TextView)fabContent.findViewById(R.id.fab_add_contact_text)).setTextColor(style.getTextPrimaryColor());
  ((TextView)fabContent.findViewById(R.id.fab_create_group_text)).setTextColor(style.getTextPrimaryColor());
  ((TextView)fabContent.findViewById(R.id.fab_compose_text)).setTextColor(style.getTextPrimaryColor());
  fabContent.setBackgroundColor(ActorSDK.sharedActor().style.getMainFabbgColor());
  fabRoot=(FloatingActionButton)findViewById(R.id.rootFab);
  if (ActorSDK.sharedActor().style.getFabColor() != 0) {
    fabRoot.setColorNormal(ActorSDK.sharedActor().style.getFabColor());
  }
  if (ActorSDK.sharedActor().style.getFabPressedColor() != 0) {
    fabRoot.setColorPressed(ActorSDK.sharedActor().style.getFabPressedColor());
  }
  fabRoot.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      showFab();
    }
  }
);
  fabContent.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      goneFab();
    }
  }
);
  searchList=(RecyclerView)findViewById(R.id.searchList);
  searchList.setLayoutManager(new ChatLinearLayoutManager(getActivity()));
  searchContainer=findViewById(R.id.searchCont);
  searchContainer.setBackgroundColor(ActorSDK.sharedActor().style.getMainBackgroundColor());
  searchEmptyView=(TextView)findViewById(R.id.empty);
  searchHintView=(TextView)findViewById(R.id.searchHint);
  searchEmptyView.setTextColor(style.getTextSecondaryColor());
  searchHintView.setTextColor(style.getTextSecondaryColor());
  searchHintView.setVisibility(View.GONE);
  searchEmptyView.setVisibility(View.GONE);
  pager=(ViewPager)findViewById(R.id.vp_pager);
  pager.setOffscreenPageLimit(2);
  homePagerAdapter=new HomePagerAdapter(getFragmentManager());
  pager.setAdapter(homePagerAdapter);
  pager.setCurrentItem(0);
  pager.setOnPageChangeListener(new ViewPager.OnPageChangeListener(){
    private int prevPage=-1;
    @Override public void onPageScrolled(    int position,    float positionOffset,    int positionOffsetPixels){
    }
    @Override public void onPageSelected(    int position){
      if (position == 0) {
        if (position != prevPage) {
        }
        if (prevPage == 1) {
        }
        prevPage=position;
      }
 else       if (position == 1) {
        if (position != prevPage) {
        }
        if (prevPage == 0) {
        }
        prevPage=position;
      }
    }
    @Override public void onPageScrollStateChanged(    int state){
    }
  }
);
  com.getbase.floatingactionbutton.FloatingActionButton fabCompose=(FloatingActionButton)findViewById(R.id.composeContainer);
  if (style.getFabColor() != 0) {
    fabCompose.setColorNormal(style.getFabColor());
  }
  if (style.getFabPressedColor() != 0) {
    fabCompose.setColorPressed(style.getFabPressedColor());
  }
  fabCompose.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      goneFab();
      startActivity(new Intent(getActivity(),ComposeActivity.class));
    }
  }
);
  com.getbase.floatingactionbutton.FloatingActionButton fabCreateGroup=(FloatingActionButton)findViewById(R.id.createGroupContainer);
  if (style.getFabColor() != 0) {
    fabCreateGroup.setColorNormal(style.getFabColor());
  }
  if (style.getFabPressedColor() != 0) {
    fabCreateGroup.setColorPressed(style.getFabPressedColor());
  }
  fabCreateGroup.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      goneFab();
      startActivity(new Intent(getActivity(),CreateGroupActivity.class));
    }
  }
);
  com.getbase.floatingactionbutton.FloatingActionButton fabAddContact=(FloatingActionButton)findViewById(R.id.addContactContainer);
  if (style.getFabColor() != 0) {
    fabAddContact.setColorNormal(style.getFabColor());
  }
  if (style.getFabPressedColor() != 0) {
    fabAddContact.setColorPressed(style.getFabPressedColor());
  }
  fabAddContact.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      goneFab();
      startActivity(new Intent(getActivity(),AddContactActivity.class));
    }
  }
);
  findViewById(R.id.addContactButton).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      startActivity(new Intent(getActivity(),AddContactActivity.class));
    }
  }
);
  findViewById(R.id.inviteButton).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      String inviteMessage=getResources().getString(R.string.invite_message).replace("{inviteUrl}",ActorSDK.sharedActor().getInviteUrl()).replace("{appName}",ActorSDK.sharedActor().getAppName());
      Intent sendIntent=new Intent(Intent.ACTION_SEND);
      sendIntent.putExtra(Intent.EXTRA_TEXT,inviteMessage);
      sendIntent.setType("text/plain");
      startActivity(sendIntent);
    }
  }
);
}
