{
  ArrayList<ApiCallMember> apiCallMembers=new ArrayList<>();
  apiCallMembers.add(new ApiCallMember(myUid(),new ApiCallMemberStateHolder(ApiCallMemberState.CONNECTED,false,true,false,false,false)));
  for (  MasterCallMember callMember : state.getConnectedMembers()) {
    ApiCallMemberStateHolder callMemberStateHolder;
switch (callMember.getState()) {
case RINGING_REACHED:
      callMemberStateHolder=new ApiCallMemberStateHolder(ApiCallMemberState.RINGING_REACHED,true,false,false,true,false);
    break;
case RINGING:
  callMemberStateHolder=new ApiCallMemberStateHolder(ApiCallMemberState.RINGING,true,false,false,false,false);
break;
case CONNECTING:
callMemberStateHolder=new ApiCallMemberStateHolder(ApiCallMemberState.CONNECTING,false,false,true,false,false);
break;
case IN_PROGRESS:
callMemberStateHolder=new ApiCallMemberStateHolder(ApiCallMemberState.CONNECTED,false,true,false,false,false);
break;
default :
case ENDED:
callMemberStateHolder=new ApiCallMemberStateHolder(ApiCallMemberState.ENDED,false,false,false,false,true);
break;
}
apiCallMembers.add(new ApiCallMember(callMember.getUid(),callMemberStateHolder));
}
return new ApiMembersChanged(apiCallMembers);
}
