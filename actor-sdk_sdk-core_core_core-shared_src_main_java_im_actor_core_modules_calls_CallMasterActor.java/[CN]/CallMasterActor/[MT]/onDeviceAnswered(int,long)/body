{
  boolean isSilenced=state.isStartedSilently(uid,deviceId);
  if (state.onDeviceAnswered(uid,deviceId,true)) {
    if (isSilenced) {
      for (      MasterCallDevice device : state.getConnectedDevices()) {
        if (device.getUid() != uid && device.getDeviceId() != deviceId) {
          sendSignalingMessage(device.getUid(),device.getDeviceId(),new ApiOnAnswer(uid,deviceId));
        }
      }
    }
 else {
      ApiPeerSettings peerSettings=state.getPeerSettings(uid,deviceId);
      getPeer(uid,deviceId).send(new PeerConnectionActor.OnOfferNeeded());
      for (      MasterCallDevice device : state.getConnectedDevices()) {
        if (device.getUid() != uid && device.getDeviceId() != deviceId) {
          sendSignalingMessage(device.getUid(),device.getDeviceId(),new ApiNeedOffer(uid,deviceId,peerSettings,false));
        }
      }
    }
    updateCallVMState();
    updateMembers();
  }
}
