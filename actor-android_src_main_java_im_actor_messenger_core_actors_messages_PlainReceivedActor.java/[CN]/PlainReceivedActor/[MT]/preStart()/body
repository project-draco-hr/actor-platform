{
  super.preStart();
  read=new SerializableMap<Long>(new SqliteStorage(DbProvider.getDatabase(AppContext.getContext()),"messages_read"));
  pending=new SerializableMap<Long>(new SqliteStorage(DbProvider.getDatabase(AppContext.getContext()),"messages_read_pending"));
  for (  Long pendingUid : pending.keySet().toArray(new Long[0])) {
    int chatType=DialogUids.getType(pendingUid);
    int chatId=DialogUids.getId(pendingUid);
    peformMarkread(chatType,chatId,pending.get(pendingUid));
  }
}
