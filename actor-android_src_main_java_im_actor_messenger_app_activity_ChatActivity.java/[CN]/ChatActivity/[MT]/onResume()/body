{
  super.onResume();
  updateImeConfig();
  if (peer.getPeerType() == PeerType.PRIVATE) {
    final UserModel user=users().get(peer.getPeerId());
    if (user == null) {
      finish();
      return;
    }
    avatar.setEmptyDrawable(AvatarDrawable.create(user,18,this));
    getBinder().bindText(title,user.getNameModel());
    getBinder().bind(user.getPresence(),new Listener<UserPresence>(){
      @Override public void onUpdated(      UserPresence presence){
        updateUserStatus(presence,TypingModel.privateChatTyping(user.getId()).getValue());
      }
    }
);
    getBinder().bind(TypingModel.privateChatTyping(user.getId()),new Listener<Boolean>(){
      @Override public void onUpdated(      Boolean aBoolean){
        updateUserStatus(user.getPresence().getValue(),aBoolean);
      }
    }
);
  }
 else   if (peer.getPeerType() == PeerType.GROUP) {
  }
  int left=0;
  int right=0;
  title.setCompoundDrawablesWithIntrinsicBounds(left,0,right,0);
  if (isCompose) {
    messageBody.requestFocus();
    keyboardUtils.setImeVisibility(messageBody,true);
  }
  isCompose=false;
}
