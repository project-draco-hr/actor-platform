{
  if (message instanceof OnOffer) {
    if (!isReady) {
      stash();
      return;
    }
    onOffer(((OnOffer)message).getSdp());
  }
 else   if (message instanceof OnAnswer) {
    if (!isReady) {
      stash();
      return;
    }
    onAnswer(((OnAnswer)message).getSdp());
  }
 else   if (message instanceof OnCandidate) {
    if (!isReady || !isReadyForCandidates) {
      stash();
      return;
    }
    OnCandidate candidate=(OnCandidate)message;
    onCandidate(candidate.getIndex(),candidate.getId(),candidate.getSdp());
  }
 else   if (message instanceof OnOfferNeeded) {
    if (!isReady) {
      stash();
      return;
    }
    onOfferNeeded();
  }
 else   if (message instanceof DoStop) {
    if (!isReady) {
      stash();
      return;
    }
    onEnded();
  }
 else   if (message instanceof DoMute) {
    if (!isReady) {
      stash();
      return;
    }
    onMute();
  }
 else   if (message instanceof DoUnmute) {
    if (!isReady) {
      stash();
      return;
    }
    onUnmute();
  }
 else {
    super.onReceive(message);
  }
}
