{
  boolean showDiv=true;
  if (position > 0) {
    showDiv=!TextUtils.areSameDays(getItem(position - 1).getAddedTime(),data.getAddedTime());
  }
  if (showDiv) {
    subheaderCont.setVisibility(View.VISIBLE);
    subheader.setText(TextUtils.formatDate(data.getAddedTime()));
  }
 else {
    subheaderCont.setVisibility(View.GONE);
  }
  titleView.setText(data.getFileName());
  UserModel userModel=users().get(data.getSender());
  if (userModel != null) {
    subtitleView.setText(Formatter.formatFileSize(data.getFileLocation().getFileSize()) + ", " + userModel.getName()+ ", "+ TextUtils.formatTime(data.getAddedTime()));
  }
 else {
    subtitleView.setText(Formatter.formatFileSize(data.getFileLocation().getFileSize()) + ", " + TextUtils.formatTime(data.getAddedTime()));
  }
  int type=FileTypes.getType(getFileExtension(data.getFileName()));
switch (type) {
default :
case FileTypes.TYPE_UNKNOWN:
    fileIcon.setImageResource(R.drawable.picker_unknown);
  break;
case FileTypes.TYPE_APK:
fileIcon.setImageResource(R.drawable.picker_apk);
break;
case FileTypes.TYPE_MUSIC:
fileIcon.setImageResource(R.drawable.picker_music);
break;
case FileTypes.TYPE_PICTURE:
fileIcon.setImageResource(R.drawable.picker_unknown);
break;
case FileTypes.TYPE_DOC:
fileIcon.setImageResource(R.drawable.picker_doc);
break;
case FileTypes.TYPE_RAR:
fileIcon.setImageResource(R.drawable.picker_rar);
break;
case FileTypes.TYPE_VIDEO:
fileIcon.setImageResource(R.drawable.picker_video);
break;
case FileTypes.TYPE_ZIP:
fileIcon.setImageResource(R.drawable.picker_zip);
break;
case FileTypes.TYPE_XLS:
fileIcon.setImageResource(R.drawable.picker_xls);
break;
case FileTypes.TYPE_PPT:
fileIcon.setImageResource(R.drawable.picker_ppt);
break;
case FileTypes.TYPE_CSV:
fileIcon.setImageResource(R.drawable.picker_csv);
break;
case FileTypes.TYPE_HTM:
fileIcon.setImageResource(R.drawable.picker_htm);
break;
case FileTypes.TYPE_HTML:
fileIcon.setImageResource(R.drawable.picker_html);
break;
case FileTypes.TYPE_PDF:
fileIcon.setImageResource(R.drawable.picker_pdf);
break;
}
if (position + 1 < getCount()) {
if (!TextUtils.areSameDays(getItem(position + 1).getAddedTime(),data.getAddedTime())) {
div.setVisibility(View.GONE);
}
 else {
div.setVisibility(View.VISIBLE);
}
}
 else {
div.setVisibility(View.GONE);
}
}
