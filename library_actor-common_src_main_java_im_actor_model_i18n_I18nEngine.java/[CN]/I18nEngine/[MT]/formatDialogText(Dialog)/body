{
  if (dialog.getSenderId() == 0) {
    return "";
  }
 else {
    String contentText=formatContentText(dialog.getSenderId(),dialog.getMessageType(),dialog.getText(),dialog.getRelatedUid());
    if (dialog.getPeer().getPeerType() == PeerType.GROUP) {
      if (isLargeDialogMessage(dialog.getMessageType())) {
        return formatPerformerName(dialog.getSenderId()) + ": " + contentText;
      }
 else {
        return contentText;
      }
    }
 else {
      return contentText;
    }
  }
}
