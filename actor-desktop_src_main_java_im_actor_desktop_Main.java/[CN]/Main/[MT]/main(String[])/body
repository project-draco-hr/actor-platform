{
  try {
    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
  }
 catch (  ClassNotFoundException e) {
    e.printStackTrace();
  }
catch (  InstantiationException e) {
    e.printStackTrace();
  }
catch (  IllegalAccessException e) {
    e.printStackTrace();
  }
catch (  UnsupportedLookAndFeelException e) {
    e.printStackTrace();
  }
  ConfigurationBuilder builder=new ConfigurationBuilder();
  builder.setThreading(new JavaThreading());
  builder.setNetworking(new JavaNetworking());
  builder.setLog(new JavaLog());
  builder.setStorage(new Storage(){
    @Override public PreferencesStorage createPreferencesStorage(){
      return new MemoryPreferences();
    }
    @Override public KeyValueEngine<User> createUsersEngine(){
      return new MemoryKeyValueEngine<User>();
    }
    @Override public ListEngine<Dialog> createDialogsEngine(){
      return new SwingListEngine<Dialog>();
    }
    @Override public ListEngine<Message> createMessagesEngine(    Peer peer){
      return new SwingListEngine<Message>();
    }
    @Override public KeyValueEngine<PendingMessage> pendingMessages(    Peer peer){
      return new MemoryKeyValueEngine<PendingMessage>();
    }
  }
);
  builder.setCallback(new MessengerCallback(){
    @Override public void onUserOnline(    int uid){
    }
    @Override public void onUserOffline(    int uid){
    }
    @Override public void onUserLastSeen(    int uid,    long lastSeen){
    }
    @Override public void onGroupOnline(    int gid,    int count){
    }
    @Override public void onTypingStart(    int uid){
    }
    @Override public void onTypingEnd(    int uid){
    }
    @Override public void onGroupTyping(    int gid,    int[] uids){
    }
  }
);
  builder.addEndpoint("tcp://mtproto-api.actor.im:8080");
  messenger=new Messenger(builder.build());
  JFrame frame=new JFrame("Actor Messenger");
  frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
  frame.setSize(740,600);
  frame.setLocationRelativeTo(null);
  frame.getContentPane().setBackground(Color.WHITE);
  init(frame.getContentPane());
  frame.setVisible(true);
}
