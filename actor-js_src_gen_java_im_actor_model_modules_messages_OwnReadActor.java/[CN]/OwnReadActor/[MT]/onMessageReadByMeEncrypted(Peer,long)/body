{
  UnreadMessage unreadMessage=null;
  Set<UnreadMessage> unread=messagesStorage.getUnread(peer);
  for (  UnreadMessage u : unread.toArray(new UnreadMessage[0])) {
    if (!u.isEncrypted()) {
      continue;
    }
    if (u.getRid() == rid) {
      unreadMessage=u;
      break;
    }
  }
  if (unreadMessage != null) {
    onMessageRead(peer,unreadMessage.getRid(),unreadMessage.getSortDate(),true);
  }
}
