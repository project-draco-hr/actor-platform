{
switch (value.getState()) {
default :
case NONE:
    status.setText(R.string.chat_doc_download);
  menu.setVisibility(View.GONE);
break;
case DOWNLOADING:
status.setText(R.string.chat_doc_stop);
menu.setVisibility(View.GONE);
break;
case DOWNLOADED:
status.setText(R.string.chat_doc_open);
menu.setVisibility(View.VISIBLE);
break;
}
if (value.getState() == DownloadState.State.DOWNLOADING) {
fileIcon.setVisibility(View.GONE);
downloadIcon.setVisibility(View.GONE);
progressValue.setVisibility(View.VISIBLE);
progressView.setVisibility(View.VISIBLE);
progressView.setValue(value.getProgress());
progressValue.setText("" + value.getProgress());
}
 else {
if (value.getState() == DownloadState.State.DOWNLOADED) {
fileIcon.setVisibility(View.VISIBLE);
downloadIcon.setVisibility(View.GONE);
}
 else {
fileIcon.setVisibility(View.GONE);
downloadIcon.setVisibility(View.VISIBLE);
downloadIcon.setResource(R.drawable.ic_cloud_download_white_36dp);
}
progressValue.setVisibility(View.GONE);
progressView.setVisibility(View.GONE);
}
}
