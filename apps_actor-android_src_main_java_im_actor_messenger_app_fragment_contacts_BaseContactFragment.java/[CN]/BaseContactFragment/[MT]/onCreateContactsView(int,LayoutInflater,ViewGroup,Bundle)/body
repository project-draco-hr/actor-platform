{
  View res=inflate(inflater,container,layoutId,messenger().buildContactDisplayList());
  if (useCompactVersion) {
    View header=new View(getActivity());
    header.setLayoutParams(new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(4)));
    addHeaderView(header);
    View footer=new View(getActivity());
    footer.setLayoutParams(new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(4)));
    addFooterView(footer);
  }
 else {
    TextView header=new TextView(getActivity());
    header.setBackgroundColor(getResources().getColor(R.color.bg_grey));
    header.setText(R.string.contacts_title);
    header.setTypeface(Fonts.bold());
    header.setPadding(Screen.dp(16),0,0,0);
    header.setGravity(Gravity.LEFT | Gravity.CENTER_VERTICAL);
    header.setTextSize(16);
    header.setTextColor(getResources().getColor(R.color.text_subheader));
    LinearLayout headerCont=new LinearLayout(getActivity());
    headerCont.setBackgroundColor(getResources().getColor(R.color.bg_light));
    headerCont.setOrientation(LinearLayout.VERTICAL);
    headerCont.addView(header,new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(48)));
    headerCont.setLayoutParams(new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT));
    addHeaderView(headerCont);
    FrameLayout footer=new FrameLayout(getActivity());
    footer.setBackgroundColor(getResources().getColor(R.color.bg_grey));
    footer.setLayoutParams(new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(112)));
    ImageView shadow=new ImageView(getActivity());
    shadow.setImageResource(R.drawable.card_shadow_bottom);
    shadow.setScaleType(ImageView.ScaleType.FIT_XY);
    shadow.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,Screen.dp(4)));
    footer.addView(shadow);
    addFooterView(footer);
  }
  return res;
}
