{
  return JsPromise.create(new JsPromiseExecutor(){
    @Override public void execute(){
      messenger.loadBlockedUsers().then(new Consumer<List<User>>(){
        @Override public void apply(        List<User> users){
          JsArray<JsUser> res=JsArray.createArray().cast();
          for (          User u : users) {
            res.push(getUser(u.getUid()));
          }
          resolve(res);
        }
      }
).failure(new Consumer<Exception>(){
        @Override public void apply(        Exception e){
          reject(e);
        }
      }
).done(JsPromiseDispatcher.INSTANCE);
    }
  }
);
}
