{
  if (message instanceof JoinBus) {
    joinBus(((JoinBus)message).getBusId());
  }
 else   if (message instanceof CreateBus) {
    createBus();
  }
 else   if (message instanceof SendSignal) {
    SendSignal signal=(SendSignal)message;
    sendSignal(signal.getDeviceId(),signal.getSignal());
  }
 else   if (message instanceof AnswerCall) {
    if (!isMasterReady) {
      stash(STASH);
      return;
    }
    onAnswerCall();
  }
 else   if (message instanceof RejectCall) {
    if (!isMasterReady) {
      stash(STASH);
      return;
    }
    onRejectCall();
  }
 else   if (message instanceof Mute) {
    onChangeMute(((Mute)message).isMuted());
  }
 else {
    super.onReceive(message);
  }
}
