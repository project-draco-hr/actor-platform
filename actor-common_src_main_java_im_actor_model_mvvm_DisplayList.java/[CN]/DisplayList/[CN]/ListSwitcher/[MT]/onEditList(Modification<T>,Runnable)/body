{
  ModificationHolder<T> holder=new ModificationHolder<T>(modification,runnable);
  if (isLocked) {
    pending.add(holder);
    return;
  }
  ArrayList<T> backgroundList=displayList.lists[(displayList.currentList + 1) % 2];
  modification.modify(backgroundList);
  if (displayList.hook != null) {
    displayList.hook.beforeDisplay(backgroundList);
  }
  requestListSwitch(new ModificationHolder[]{holder});
}
