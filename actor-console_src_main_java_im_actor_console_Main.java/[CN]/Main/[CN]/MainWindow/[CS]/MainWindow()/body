{
  super("Actor Messenger");
  setBorder(new Border.Invisible());
  Panel horisontalPanel=new Panel(new Border.Invisible(),Panel.Orientation.HORISONTAL);
  Panel leftPanel=new Panel(new Border.Invisible(),Panel.Orientation.VERTICAL);
  leftPanel.addComponent(new Label("Recent",30));
  final MemoryListEngine<Dialog> dialogEngine=((MemoryListEngine<Dialog>)messenger.getDialogs());
  ArrayList<Dialog> d=new ArrayList<Dialog>();
  final ConsoleList<Dialog> dialogConsoleList=new ConsoleList<Dialog>(leftPanel,d,new ConsoleList.Adapter<Dialog>(){
    @Override public Component createComponent(    Dialog item){
      return new DialogElement(item);
    }
  }
);
  dialogEngine.addListener(new MemoryListEngine.EngineListener(){
    @Override public void onItemsChanged(){
      final List<Dialog> itms=dialogEngine.getList();
      messenger.getConfiguration().getMainThread().runOnUiThread(new Runnable(){
        @Override public void run(){
          dialogConsoleList.update(itms);
        }
      }
);
    }
  }
);
  horisontalPanel.addComponent(leftPanel,LinearLayout.MAXIMIZES_VERTICALLY);
  addComponent(horisontalPanel);
}
