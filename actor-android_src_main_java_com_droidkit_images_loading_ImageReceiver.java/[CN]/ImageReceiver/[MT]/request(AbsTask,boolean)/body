{
  if (!UiUtil.isMainThread()) {
    throw new RuntimeException("Operations allowed only on UI thread");
  }
  if (task.getKey().equals(currentTaskKey)) {
    return;
  }
  if (clearPrevious) {
    clear();
  }
  BitmapReference cachedReference=loader.getMemoryCache().findInCache(task.getKey(),this);
  if (cachedReference != null) {
    updateReference(cachedReference);
    return;
  }
  currentTask=TASK_ID.getAndIncrement();
  currentTaskKey=task.getKey();
  requestStart=System.currentTimeMillis();
  receiver.send(new TaskRequest(currentTask,task));
}
